{"version":3,"sources":["components/common/CardHeader/CardHeader.js","constants/constants.js","components/ButtonSelectorNode/ButtonSelectorNode.js","../node_modules/@material-ui/icons/Clear.js","components/sidePanel/Events/Events.js","../node_modules/@material-ui/core/esm/ListItem/ListItem.js","../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js","components/sidePanel/Conditions/Conditions.js","components/sidePanel/Actions/Actions.js","views/home/HomePage.js"],"names":["CardHeader","props","handleSave","hasPreviewButton","children","rest","history","useHistory","className","disableRipple","variant","onClick","push","pathname","EVENTS","id","name","CONDITIONS","ACTIONS","type","label","SAMPLE_EVENT_TRIGGERS","eventKey","eventDisplay","fields","conditionKey","conditionDisplay","options","SAMPLE_ACTIONS","actionKey","actionDisplay","key","placeHolder","option","CONDITION_OPERATORS","value","memo","data","isConnectable","selectedElements","useStoreState","store","focusNodeAction","item","disabled","btnLabel","e","btnAction","stopPropagation","Object","keys","includes","values","map","cond","operator","join","replace","a","i","Fragment","actionInputs","ai","handleDeleteAction","length","btnLabel2","btnAction2","position","style","bottom","top","background","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","exports","default","React","_default","createElement","d","Events","handleSelect","selectedEventKey","useState","showMore","setShowMore","Typography","Button","startIcon","endIcon","useEnhancedEffect","window","ListItem","ref","_props$alignItems","alignItems","_props$autoFocus","autoFocus","_props$button","button","childrenProp","classes","componentProp","component","_props$ContainerCompo","ContainerComponent","_props$ContainerProps","ContainerProps","ContainerClassName","_objectWithoutProperties","_props$dense","dense","_props$disabled","_props$disableGutters","disableGutters","_props$divider","divider","focusVisibleClassName","_props$selected","selected","other","context","ListContext","childContext","listItemRef","current","focus","toArray","hasSecondaryAction","isMuiElement","handleOwnRef","instance","ReactDOM","handleRef","useForkRef","componentProps","_extends","clsx","root","gutters","alignItemsFlexStart","secondaryAction","Component","focusVisible","ButtonBase","Provider","container","pop","withStyles","theme","display","justifyContent","textDecoration","width","boxSizing","textAlign","paddingTop","paddingBottom","backgroundColor","palette","action","opacity","borderBottom","concat","backgroundClip","paddingLeft","paddingRight","transition","transitions","create","duration","shortest","hover","MenuItem","tabIndex","_props$component","ListItemClasses","_props$role","role","tabIndexProp","undefined","typography","body1","_defineProperty","minHeight","overflow","whiteSpace","breakpoints","up","body2","Conditions","selectedConditionObj","useEffect","setConditions","setMustMeet","initialConditionObj","selectedEventFields","find","t","mustMeet","conditions","handleOnChange","index","keyName","tempConditions","assign","split","FormControl","InputLabel","Select","labelId","onChange","target","c","splice","handleOnRemove","f","filter","o","TextField","fullWidth","margin","FormHelperText","result","Actions","selectedActionObj","handleAddAction","setClickedAction","formatActionInputs","onFocusObj","tempAction","forEach","input","clickedAction","handleFieldInputChange","field","tempClickedAction","fieldIndex","findIndex","opt","placeholder","nodeTypes","btnSelectorNode","ButtonSelectorNode","HomePage","flow","setFlow","showDrawer","setShowDrawer","selectedNode","setSelectedNode","selectedAction","initialElements","x","y","elements","setElements","elementsStateRef","useRef","selectedNodeStateRef","generateNextStepNodeObj","nodeId","tempElems","Number","toString","itemIndex","source","el","Background","fullHeight","color","event","conditionObj","tempElemIndex","actionObj","nodes","outputArr","node","condition","actions","console","log","elementsSelectable","onElementsRemove","elementsToRemove","els","removeElements","onConnect","params","addEdge","onSelectionChange"],"mappings":"8OAQMA,EAAa,SAAAC,GAAU,IACnBC,EAAoDD,EAApDC,WAAYC,EAAwCF,EAAxCE,iBAAkBC,EAAsBH,EAAtBG,SAAaC,EADzB,YACkCJ,EADlC,8CAEpBK,EAAUC,cAKhB,OACE,8CAAKC,UAAS,cAAoBH,GAAlC,cACE,sBAAKG,UAAU,eAAf,UACGJ,EACD,cAAC,IAAD,CAAYK,eAAa,EAAzB,SACE,cAAC,IAAD,SAGJ,sBAAKD,UAAU,SAAf,UACGL,GACC,cAAC,IAAD,CAAQO,QAAQ,OAAOF,UAAU,cAAcG,QAblC,WACnBL,EAAQM,KAAK,CAAEC,SAAU,cAYnB,2BAIDX,GACC,cAAC,IAAD,CAAQQ,QAAQ,YAAYC,QAAST,EAArC,2B,iCC9BV,4MAAO,IAAMY,EAAS,CACpB,CAAEC,GAAI,EAAGC,KAAM,oBACf,CAAED,GAAI,EAAGC,KAAM,cACf,CAAED,GAAI,EAAGC,KAAM,kBACf,CAAED,GAAI,EAAGC,KAAM,qBAGJC,EAAa,CACxB,CAAEF,GAAI,EAAGC,KAAM,gBACf,CAAED,GAAI,EAAGC,KAAM,gBACf,CAAED,GAAI,EAAGC,KAAM,qBACf,CAAED,GAAI,EAAGC,KAAM,kBACf,CAAED,GAAI,EAAGC,KAAM,gBACf,CAAED,GAAI,EAAGC,KAAM,iBAEJE,EAAU,CACrB,CACEH,GAAI,EACJC,KAAM,wBACNG,KAAM,QACNC,MAAO,iBAET,CAAEL,GAAI,EAAGC,KAAM,eAAgBG,KAAM,MAAOC,MAAO,kBACnD,CAAEL,GAAI,EAAGC,KAAM,qBAAsBG,KAAM,MAAOC,MAAO,kBACzD,CAAEL,GAAI,EAAGC,KAAM,iBAAkBG,KAAM,MAAOC,MAAO,mBAG1CC,EAAwB,CACnC,CACEC,SAAU,WACVC,aAAc,mBACdC,OAAQ,CACN,CACEC,aAAc,eACdC,iBAAkB,gBAClBP,KAAM,UAER,CACEM,aAAc,gBACdC,iBAAkB,iBAClBP,KAAM,SAIZ,CACEG,SAAU,YACVC,aAAc,aACdC,OAAQ,CACN,CACEC,aAAc,SACdC,iBAAkB,kBAClBP,KAAM,SACNQ,QAAS,CAAC,OAAQ,WAEpB,CAAEF,aAAc,MAAOC,iBAAkB,WAAYP,KAAM,WAKpDS,EAAiB,CAC5B,CACEC,UAAW,YACXC,cAAe,wBACfN,OAAQ,CACN,CAAEO,IAAK,eAAgBC,YAAa,gBAAiBb,KAAM,YAG/D,CACEU,UAAW,cACXC,cAAe,eACfN,OAAQ,CACN,CAAEO,IAAK,cAAeC,YAAa,iBAAkBb,KAAM,UAC3D,CACEY,IAAK,qBACLC,YAAa,UACbb,KAAM,YACNc,OAAQ,CAAC,YAAa,gBAMjBC,EAAsB,CACjC,CAAElB,KAAM,QAASmB,MAAO,IAAKhB,KAAM,UACnC,CAAEH,KAAM,YAAamB,MAAO,KAAMhB,KAAM,UACxC,CAAEH,KAAM,WAAYmB,MAAO,WAAYhB,KAAM,UAC7C,CAAEH,KAAM,eAAgBmB,MAAO,eAAgBhB,KAAM,UACrD,CAAEH,KAAM,eAAgBmB,MAAO,IAAKhB,KAAM,OAC1C,CAAEH,KAAM,YAAamB,MAAO,IAAKhB,KAAM,OACvC,CAAEH,KAAM,yBAA0BmB,MAAO,KAAMhB,KAAM,OACrD,CAAEH,KAAM,sBAAuBmB,MAAO,KAAMhB,KAAM,OAClD,CAAEH,KAAM,QAASmB,MAAO,IAAKhB,KAAM,QACnC,CAAEH,KAAM,eAAgBmB,MAAO,eAAgBhB,KAAM,QACrD,CAAEH,KAAM,aAAcmB,MAAO,aAAchB,KAAM,U,uDC7FnD,0FAUeiB,oBAAK,YAAkC,IAAD,EAA9BrB,EAA8B,EAA9BA,GAAIsB,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,cACzBC,EAAmBC,aAAc,SAAAC,GAAK,OAAIA,EAAMF,oBAEtD,OACE,sBACE/B,UAAS,6BACP+B,GAAoBA,EAAiB,GAAGxB,KAAOA,EAAK,cAAgB,IAEtEJ,QAAS,kBAAM0B,EAAKK,gBAAgB3B,IAJtC,UAME,8BACE,cAAC,IAAD,CAAYL,QAAQ,QAApB,SAA6B2B,EAAKjB,UAGrB,UAAdiB,EAAKlB,OACHkB,EAAKM,KACJ,cAAC,IAAD,CAAQjC,QAAQ,YAAYkC,UAAQ,EAACpC,UAAU,YAA/C,mBACG6B,EAAKM,YADR,aACG,EAAWpB,eAGdc,EAAKQ,UACH,cAAC,IAAD,CACElC,QAAS,SAAAmC,GACPT,EAAKU,UAAUhC,GACf+B,EAAEE,mBAEJtC,QAAQ,YALV,SAOG2B,EAAKQ,aAKE,cAAdR,EAAKlB,MAAsC,WAAdkB,EAAKlB,QACjCkB,EAAKM,KACJ,cAAC,IAAD,CAAQjC,QAAQ,YAAYkC,UAAQ,EAACpC,UAAU,gBAA/C,SACGyC,OAAOC,KAAKb,EAAKM,MAAM,GAAGQ,SAAS,QAChCF,OAAOG,OAAOf,EAAKM,MAAM,GACtBU,KACC,SAAAC,GAAI,gBACCA,EAAK7B,aADN,YACsB6B,EAAKC,SAD3B,YACuCD,EAAKnB,MAAMqB,KAClD,UAGLA,KAPH,WAOYP,OAAOC,KAAKb,EAAKM,MAAM,GAAGc,QAAQ,OAAQ,IAPtD,MADH,UASMpB,EAAKM,KAAKlB,aAThB,YAUKY,EAAKM,KAAKY,SAVf,YAWOlB,EAAKM,KAAKR,MAAMqB,KAAK,SAyB/BnB,EAAKQ,UACH,cAAC,IAAD,CACElC,QAAS,SAAAmC,GACPT,EAAKU,UAAUhC,GACf+B,EAAEE,mBAEJtC,QAAQ,YALV,SAOG2B,EAAKQ,YAMbR,EAAKlB,KAAKgC,SAAS,YACjBd,EAAKM,KACFN,EAAKM,KAAKU,KAAI,SAACK,EAAGC,GAAJ,OACZ,cAAC,IAAMC,SAAP,UACE,sBAAKpD,UAAU,YAAf,UACE,cAAC,IAAD,CAAQE,QAAQ,YAAYkC,UAAQ,EAACpC,UAAU,aAA/C,2BACckD,EAAE7B,UADhB,iCAEI6B,EAAEG,aACDR,KAAI,SAAAS,GAAE,gBAAOA,EAAG/B,IAAV,cAAmB+B,EAAG3B,UAC5BqB,KAAK,SAEV,cAAC,IAAD,CACE/C,eAAa,EACbE,QAAS,kBAAM0B,EAAK0B,mBAAmBJ,IAFzC,SAIE,cAAC,IAAD,MAEDA,IAAMtB,EAAKM,KAAKqB,OAAS,GACxB,cAAC,IAAD,CAAYtD,QAAQ,KAApB,qBAfeiD,MAoBvBtB,EAAKQ,UACH,cAAC,IAAD,CACElC,QAAS,SAAAmC,GACPT,EAAKU,UAAUhC,GACf+B,EAAEE,mBAEJtC,QAAQ,YALV,SAOG2B,EAAKQ,YAID,WAAdR,EAAKlB,MACJ,cAAC,IAAD,CAAYT,QAAQ,KAAKF,UAAU,UAAnC,gBAKD6B,EAAK4B,WACJ,cAAC,IAAD,CACEtD,QAAS,SAAAmC,GACPT,EAAK6B,WAAWnD,GAChB+B,EAAEE,mBAEJtC,QAAQ,YALV,SAOG2B,EAAK4B,YAIV,cAAC,IAAD,CACE9C,KAAK,SACLgD,SAAS,SACTC,MAAO,CAAEC,OAAQ,GAAIC,IAAK,OAAQC,WAAY,QAC9CjC,cAAeA,W,mGCvJvB,IAAIkC,EAAyBC,EAAQ,IAEjCC,EAA0BD,EAAQ,KAEtCxB,OAAO0B,eAAeC,EAAS,aAAc,CAC3CzC,OAAO,IAETyC,EAAQC,aAAU,EAElB,IAAIC,EAAQJ,EAAwBD,EAAQ,IAIxCM,GAAW,EAFMP,EAAuBC,EAAQ,MAElBI,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,0GACD,SAEJL,EAAQC,QAAUE,G,qQCPZG,EAAS,SAAAjF,GAAU,IACfkF,EAA4ClF,EAA5CkF,aAAcC,EAA8BnF,EAA9BmF,iBAAqB/E,EADrB,YAC8BJ,EAD9B,uCAEUoF,oBAAS,GAFnB,mBAEfC,EAFe,KAELC,EAFK,KAItB,OACE,8CAAK/E,UAAS,UAAgBH,GAA9B,cACE,cAACL,EAAA,EAAD,UACE,cAACwF,EAAA,EAAD,CAAY9E,QAAQ,KAApB,sBAGF,6CACEF,UAAS,uBACPa,IAAsB2C,OAAS,EAAI,gBAAkB,GAD9C,YAELsB,EAAW,WAAa,KACxBjF,GAJN,aAMGgB,IAAsBgC,KAAI,SAAAV,GAAI,OAC7B,cAAC8C,EAAA,EAAD,CAEE9E,QAAS,kBAAMwE,EAAaxC,IAC5BlC,eAAa,EACbC,QAAQ,OACRF,UAAS,wBACP4E,IAAqBzC,EAAKrB,SAAW,WAAa,IAEpDoE,UAAW,cAAC,IAAD,IARb,SAUG/C,EAAKpB,cATDoB,EAAKrB,gBAcfD,IAAsB2C,OAAS,GAC9B,qBAAKxD,UAAU,gBAAf,SACE,eAACiF,EAAA,EAAD,CACE9E,QAAS,kBAAM4E,GAAaD,IAC5B5E,QAAQ,OACRD,eAAa,EACbkF,QACEL,EACE,cAAC,IAAD,IAEA,cAAC,IAAD,IARN,kBAYQA,EAAW,OAAS,iB,2GCuClCM,EAAsC,qBAAXC,OAAyBf,YAAkBA,kBAKtEgB,EAAwBhB,cAAiB,SAAkB7E,EAAO8F,GACpE,IAAIC,EAAoB/F,EAAMgG,WAC1BA,OAAmC,IAAtBD,EAA+B,SAAWA,EACvDE,EAAmBjG,EAAMkG,UACzBA,OAAiC,IAArBD,GAAsCA,EAClDE,EAAgBnG,EAAMoG,OACtBA,OAA2B,IAAlBD,GAAmCA,EAC5CE,EAAerG,EAAMG,SACrBmG,EAAUtG,EAAMsG,QAChB/F,EAAYP,EAAMO,UAClBgG,EAAgBvG,EAAMwG,UACtBC,EAAwBzG,EAAM0G,mBAC9BA,OAA+C,IAA1BD,EAAmC,KAAOA,EAC/DE,EAAwB3G,EAAM4G,eAG9BC,GAFJF,OAAkD,IAA1BA,EAAmC,GAAKA,GAEjBpG,UAC3CqG,EAAiBE,YAAyBH,EAAuB,CAAC,cAClEI,EAAe/G,EAAMgH,MACrBA,OAAyB,IAAjBD,GAAkCA,EAC1CE,EAAkBjH,EAAM2C,SACxBA,OAA+B,IAApBsE,GAAqCA,EAChDC,EAAwBlH,EAAMmH,eAC9BA,OAA2C,IAA1BD,GAA2CA,EAC5DE,EAAiBpH,EAAMqH,QACvBA,OAA6B,IAAnBD,GAAoCA,EAC9CE,EAAwBtH,EAAMsH,sBAC9BC,EAAkBvH,EAAMwH,SACxBA,OAA+B,IAApBD,GAAqCA,EAChDE,EAAQX,YAAyB9G,EAAO,CAAC,aAAc,YAAa,SAAU,WAAY,UAAW,YAAa,YAAa,qBAAsB,iBAAkB,QAAS,WAAY,iBAAkB,UAAW,wBAAyB,aAElP0H,EAAU7C,aAAiB8C,KAC3BC,EAAe,CACjBZ,MAAOA,GAASU,EAAQV,QAAS,EACjChB,WAAYA,GAEV6B,EAAchD,SAAa,MAC/Bc,GAAkB,WACZO,GACE2B,EAAYC,SACdD,EAAYC,QAAQC,UAKvB,CAAC7B,IACJ,IAAI/F,EAAW0E,WAAemD,QAAQ3B,GAClC4B,EAAqB9H,EAAS4D,QAAUmE,YAAa/H,EAASA,EAAS4D,OAAS,GAAI,CAAC,4BACrFoE,EAAetD,eAAkB,SAAUuD,GAE7CP,EAAYC,QAAUO,cAAqBD,KAC1C,IACCE,EAAYC,YAAWJ,EAAcrC,GAErC0C,EAAiBC,YAAS,CAC5BlI,UAAWmI,YAAKpC,EAAQqC,KAAMpI,EAAWqH,EAAaZ,OAASV,EAAQU,OAAQG,GAAkBb,EAAQsC,QAASvB,GAAWf,EAAQe,QAAS1E,GAAY2D,EAAQ3D,SAAUyD,GAAUE,EAAQF,OAAuB,WAAfJ,GAA2BM,EAAQuC,oBAAqBZ,GAAsB3B,EAAQwC,gBAAiBtB,GAAYlB,EAAQkB,UACjU7E,SAAUA,GACT8E,GAECsB,EAAYxC,GAAiB,KAQjC,OANIH,IACFoC,EAAehC,UAAYD,GAAiB,MAC5CiC,EAAelB,sBAAwBoB,YAAKpC,EAAQ0C,aAAc1B,GAClEyB,EAAYE,KAGVhB,GAEFc,EAAaP,EAAehC,WAAcD,EAAwBwC,EAAR,MAE/B,OAAvBrC,IACgB,OAAdqC,EACFA,EAAY,MAC0B,OAA7BP,EAAehC,YACxBgC,EAAehC,UAAY,QAIX3B,gBAAoB8C,IAAYuB,SAAU,CAC5DhH,MAAO0F,GACO/C,gBAAoB6B,EAAoB+B,YAAS,CAC/DlI,UAAWmI,YAAKpC,EAAQ6C,UAAWtC,GACnCf,IAAKwC,GACJ1B,GAA8B/B,gBAAoBkE,EAAWP,EAAgBrI,GAAWA,EAASiJ,SAGlFvE,gBAAoB8C,IAAYuB,SAAU,CAC5DhH,MAAO0F,GACO/C,gBAAoBkE,EAAWN,YAAS,CACtD3C,IAAKwC,GACJE,GAAiBrI,OA0GPkJ,eA/RK,SAAgBC,GAClC,MAAO,CAELX,KAAM,CACJY,QAAS,OACTC,eAAgB,aAChBxD,WAAY,SACZ9B,SAAU,WACVuF,eAAgB,OAChBC,MAAO,OACPC,UAAW,aACXC,UAAW,OACXC,WAAY,EACZC,cAAe,EACf,iBAAkB,CAChBC,gBAAiBT,EAAMU,QAAQC,OAAOzC,UAExC,+BAAgC,CAC9BuC,gBAAiBT,EAAMU,QAAQC,OAAOzC,UAExC,aAAc,CACZ0C,QAAS,KAKbf,UAAW,CACTjF,SAAU,YAIZ8E,aAAc,GAGdhC,MAAO,CACL6C,WAAY,EACZC,cAAe,GAIjBjB,oBAAqB,CACnB7C,WAAY,cAIdrD,SAAU,GAGV0E,QAAS,CACP8C,aAAc,aAAaC,OAAOd,EAAMU,QAAQ3C,SAChDgD,eAAgB,eAIlBzB,QAAS,CACP0B,YAAa,GACbC,aAAc,IAIhBnE,OAAQ,CACNoE,WAAYlB,EAAMmB,YAAYC,OAAO,mBAAoB,CACvDC,SAAUrB,EAAMmB,YAAYE,SAASC,WAEvC,UAAW,CACTnB,eAAgB,OAChBM,gBAAiBT,EAAMU,QAAQC,OAAOY,MAEtC,uBAAwB,CACtBd,gBAAiB,iBAMvBjB,gBAAiB,CAGfyB,aAAc,IAIhB/C,SAAU,MA6MoB,CAChCzG,KAAM,eADOsI,CAEZxD,GCzQCiF,EAAwBjG,cAAiB,SAAkB7E,EAAO8F,GACpE,IAaIiF,EAbAzE,EAAUtG,EAAMsG,QAChB/F,EAAYP,EAAMO,UAClByK,EAAmBhL,EAAMwG,UACzBA,OAAiC,IAArBwE,EAA8B,KAAOA,EACjD9D,EAAwBlH,EAAMmH,eAC9BA,OAA2C,IAA1BD,GAA2CA,EAC5D+D,EAAkBjL,EAAMiL,gBACxBC,EAAclL,EAAMmL,KACpBA,OAAuB,IAAhBD,EAAyB,WAAaA,EAC7C1D,EAAWxH,EAAMwH,SACjB4D,EAAepL,EAAM+K,SACrBtD,EAAQX,YAAyB9G,EAAO,CAAC,UAAW,YAAa,YAAa,iBAAkB,kBAAmB,OAAQ,WAAY,aAQ3I,OAJKA,EAAM2C,WACToI,OAA4BM,IAAjBD,EAA6BA,GAAgB,GAGtCvG,gBAAoBgB,EAAU4C,YAAS,CACzDrC,QAAQ,EACR+E,KAAMA,EACNJ,SAAUA,EACVvE,UAAWA,EACXgB,SAAUA,EACVL,eAAgBA,EAChBb,QAASmC,YAAS,CAChBzB,MAAOV,EAAQU,OACdiE,GACH1K,UAAWmI,YAAKpC,EAAQqC,KAAMpI,EAAWiH,GAAYlB,EAAQkB,UAAWL,GAAkBb,EAAQsC,SAClG9C,IAAKA,GACJ2B,OA8DU4B,eA1HK,SAAgBC,GAClC,MAAO,CAELX,KAAMF,YAAS,GAAIa,EAAMgC,WAAWC,MAAOC,YAAgB,CACzDC,UAAW,GACX5B,WAAY,EACZC,cAAe,EACfH,UAAW,aACXD,MAAO,OACPgC,SAAU,SACVC,WAAY,UACXrC,EAAMsC,YAAYC,GAAG,MAAO,CAC7BJ,UAAW,UAKb7C,QAAS,GAGTpB,SAAU,GAGVR,MAAOyB,YAAS,GAAIa,EAAMgC,WAAWQ,MAAO,CAC1CL,UAAW,YAkGiB,CAChC1K,KAAM,eADOsI,CAEZyB,G,6CChHGiB,G,OAAa,SAAA/L,GAAU,IACnBmF,EACNnF,EADMmF,iBAAkB6G,EACxBhM,EADwBgM,qBAAsB9G,EAC9ClF,EAD8CkF,aAAiB9E,EADvC,YAExBJ,EAFwB,4DAI1BiM,qBAAU,WAAO,IAAD,IACdC,GACE,UAAAlJ,OAAOC,KAAK+I,GAAsB,UAAlC,eAAsC9I,SAAS,SAC3CF,OAAOG,OAAO6I,GAAsB,GACpC,CACE,CACExK,aAAcwK,EAAqBxK,cAAgB,GACnDU,MAAO8J,EAAqB9J,OAAS,GACrCoB,SAAU0I,EAAqB1I,UAAY,MAIrD6I,GACE,UAAAnJ,OAAOC,KAAK+I,GAAsB,UAAlC,eAAsC9I,SAAS,SAC3CF,OAAOC,KAAK+I,GAAsB,GAClC,MAEL,CAACA,IAEJ,IAAMI,EAAsB,CAC1B5K,aAAc,GACdU,MAAO,GACPoB,SAAU,IAGN+I,EAAsBjL,IAAsBkL,MAChD,SAAAC,GAAC,OAAIA,EAAElL,WAAa8D,KACpB5D,OA/BwB,EAiCM6D,mBAAS,IAjCf,mBAiCnBoH,EAjCmB,KAiCTL,EAjCS,OAkCU/G,mBAAS,CAC3C,CACE5D,aAAc,GACdU,MAAO,GACPoB,SAAU,MAtCY,mBAkCnBmJ,EAlCmB,KAkCPP,EAlCO,KA+DpBQ,EAAiB,SAACxK,EAAOyK,EAAOC,GACpC,IAAMC,EAAiB7J,OAAO8J,OAAO,GAAIL,GACzB,UAAZG,EACFC,EAAeF,GAAOzK,MAAQA,EAAM6K,MAAM,KAE1CF,EAAeF,GAAOC,GAAW1K,EAEnCgK,EAAcW,IAGhB,OACE,8CAAKtM,UAAS,cAAoBH,GAAlC,cACE,cAACL,EAAA,EAAD,UACE,cAACwF,EAAA,EAAD,CAAY9E,QAAQ,KAApB,0BAGF,8CAAKF,UAAS,gBAAsBH,GAApC,cACGqM,EAAW1I,OAAS,GACnB,eAACiJ,EAAA,EAAD,CAAazM,UAAU,SAAvB,UACE,cAAC0M,EAAA,EAAD,CAAYnM,GAAE,kBAAd,sCAGA,eAACoM,EAAA,EAAD,CACEC,QAAO,kBACPrM,GAAG,YACHoB,MAAOsK,EACPY,SAAU,SAAAvK,GAAC,OAAIsJ,EAAYtJ,EAAEwK,OAAOnL,QAJtC,UAME,cAAC,EAAD,CAAUA,MAAM,UAAhB,iBACA,cAAC,EAAD,CAAUA,MAAM,SAAhB,sBAKLuK,EAAWrJ,KAAI,SAACkK,EAAG5J,GAAJ,eACd,eAAC,IAAMC,SAAP,WACS,IAAND,GACC,cAAC8B,EAAA,EAAD,CACEjF,UAAU,YACVE,QAAQ,OACRgF,UAAW,cAAC,IAAD,IACXjF,eAAa,EACbE,QAAS,kBAnDA,SAAAiM,GACK,IAAtBF,EAAW1I,QACboI,EAAY,IAEd,IAAMU,EAAiB7J,OAAO8J,OAAO,GAAIL,GACzCI,EAAeU,OAAOZ,EAAO,GAC7BT,EAAcW,GA6CaW,CAAe9J,IALhC,oBAUF,eAACsJ,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,CAAYnM,GAAE,0BAAqB4C,GAAnC,uBACaA,EAAI,KAEjB,cAACwJ,EAAA,EAAD,CACEC,QAAO,0BAAqBzJ,GAC5B5C,GAAE,oBAAe4C,GACjBxB,MAAOoL,EAAE9L,cAAgB,GACzB4L,SAAU,SAAAvK,GAAC,OACT6J,EAAe7J,EAAEwK,OAAOnL,MAAOwB,EAAG,iBALtC,SAQG2I,EAAoBjJ,KAAI,SAAAV,GAAI,OAC3B,cAAC,EAAD,CAAkCR,MAAOQ,EAAKlB,aAA9C,SACGkB,EAAKjB,kBADOiB,EAAKlB,sBAO1B,eAACwL,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,CAAYnM,GAAE,yBAAoB4C,GAAlC,sBACYA,EAAI,KAEhB,cAACwJ,EAAA,EAAD,CACEC,QAAO,yBAAoBzJ,GAC3B5C,GAAE,mBAAc4C,GAChBxB,MAAOoL,EAAEhK,UAAY,GACrB8J,SAAU,SAAAvK,GAAC,OAAI6J,EAAe7J,EAAEwK,OAAOnL,MAAOwB,EAAG,aAJnD,SAQc,YAFX,UAAA2I,EAAoBC,MACnB,SAAAmB,GAAC,OAAIA,EAAEjM,eAAiB8L,EAAE9L,uBAD3B,eAEEN,MACCmL,EACGC,MAAK,SAAAmB,GAAC,OAAIA,EAAEjM,eAAiB8L,EAAE9L,gBAC/BE,QAAQ0B,KAAI,SAAApB,GAAM,OACjB,cAAC,EAAD,CAAuBE,MAAOF,EAA9B,SACGA,GADYA,MANtB,UAUGC,IAAoByL,QAClB,SAAAC,GAAC,aACCA,EAAEzM,QAAF,UACAmL,EAAoBC,MAClB,SAAAmB,GAAC,OAAIA,EAAEjM,eAAiB8L,EAAE9L,uBAF5B,aACA,EAEGN,gBAfV,aAUG,EAMGkC,KAAI,SAAAE,GAAQ,OACb,cAAC,EAAD,CAA+BpB,MAAOoB,EAASpB,MAA/C,SACGoB,EAASvC,MADGuC,EAASpB,eAOlC,eAAC8K,EAAA,EAAD,WACE,cAACY,EAAA,EAAD,CACEC,WAAS,EACTC,OAAO,QACPV,SAAU,SAAAvK,GAAC,OAAI6J,EAAe7J,EAAEwK,OAAOnL,MAAOwB,EAAG,UACjDxC,KAAM,OACNgB,MAAOoL,EAAEpL,MAAMqB,KAAK,MAAQ,GAC5BpC,MAAK,gBAAWuC,EAAI,KAEtB,cAACqK,EAAA,EAAD,0DAKDtB,EAAW1I,OAAS,IAAML,GACzB,cAAC6B,EAAA,EAAD,CAAY9E,QAAQ,KAAKF,UAAU,sBAAnC,SACgB,YAAbiM,EAAyB,MAAQ,SAlFnB9I,MAwFvB,cAAC8B,EAAA,EAAD,CACE/E,QAAQ,OACRgF,UAAW,cAAC,IAAD,IACXjF,eAAa,EACbD,UAAU,UACVG,QArJY,WACb8L,GACHL,EAAY,WAEdD,EAAc,GAAD,mBAAKO,GAAL,CAAiBL,MA4I1B,2BASA,cAAC5G,EAAA,EAAD,CAAQ/E,QAAQ,YAAYD,eAAa,EAACE,QAlJ3B,WACnB,IAAMsN,EAASxB,EAAQ,eAAMA,EAAWC,GAAeA,EAAW,GAClEvH,EAAa8I,IAgJT,sCCtMFC,G,OAAU,SAAAjO,GAAU,IAChBkF,EAA8DlF,EAA9DkF,aAA+BgJ,GAA+BlO,EAAhDmO,gBAAgDnO,EAA/BkO,mBAAsB9N,EADtC,YAC+CJ,EAD/C,wDAGvBiM,qBAAU,WACRmC,EAAiBC,EAAmBH,MACnC,CAACA,IAgBJ,IAAMG,EAAqB,SAAAC,GAAe,IAAD,EACjCC,EACJ5M,IAAe2K,MAAK,SAAAmB,GAAC,OAAIA,EAAE7L,YAAc0M,EAAW1M,cAAc,GAMpE,OALA,UAAA2M,EAAWhN,cAAX,SAAmBiN,SAAQ,SAAAf,GAAM,IAAD,EAC9BA,EAAEvL,MAAF,UAAUoM,EAAW1K,aAAa0I,MAChC,SAAAmC,GAAK,OAAIA,EAAM3M,MAAQ2L,EAAE3L,cAD3B,aAAU,EAEPI,SAEEqM,GA7Bc,EAgCmBnJ,mBAAS,IAhC5B,mBAgChBsJ,EAhCgB,KAgCDN,EAhCC,OAiCShJ,oBAAS,GAjClB,mBAiChBC,EAjCgB,KAiCNC,EAjCM,KAkDjBqJ,EAAyB,SAAC9L,EAAG+L,GACjC,IAAMC,EAAoB7L,OAAO8J,OAAO,GAAI4B,GACtCI,EAAaJ,EAAcnN,OAAOwN,WAAU,SAAAtB,GAAC,OAAIA,EAAE3L,MAAQ8M,EAAM9M,OACvE+M,EAAkBtN,OAAOuN,GAAY5M,MAAQW,EAAEwK,OAAOnL,MACtDkM,EAAiBS,IAGnB,OACE,qCACE,8CAAKtO,UAAS,WAAiBH,GAA/B,cACE,cAACL,EAAA,EAAD,UACE,cAACwF,EAAA,EAAD,CAAY9E,QAAQ,KAApB,uBAGF,6CACEF,UAAS,uBACPoB,IAAeoC,OAAS,EAAI,gBAAkB,GADvC,YAELsB,EAAW,WAAa,KACxBjF,GAJN,aAMGuB,IAAeyB,KAAI,SAAAV,GAAI,OACtB,cAAC8C,EAAA,EAAD,CAEE9E,QAAS,WArCnB0N,EAqC6C1L,IACnClC,eAAa,EACbC,QAAQ,OACRF,UAAS,yBACM,OAAbmO,QAAa,IAAbA,OAAA,EAAAA,EAAe9M,aAAcc,EAAKd,UAAY,WAAa,IAE7D6D,UAAW,cAAC,IAAD,IARb,SAUG/C,EAAKb,eATDa,EAAKd,iBAcfD,IAAeoC,OAAS,GACvB,qBAAKxD,UAAU,gBAAf,SACE,eAACiF,EAAA,EAAD,CACE9E,QAAS,kBAAM4E,GAAaD,IAC5B5E,QAAQ,OACRD,eAAa,EACbkF,QACEL,EACE,cAAC,IAAD,IAEA,cAAC,IAAD,IARN,kBAYQA,EAAW,OAAS,gBAMjCrC,OAAOC,KAAKyL,GAAe3K,OAAS,GACnC,qCACE,cAAChE,EAAA,EAAD,UACE,cAACwF,EAAA,EAAD,CAAY9E,QAAQ,KAApB,8BAEF,sBAAKF,UAAU,YAAf,UACGmO,EAAcnN,OAAO6B,KAAI,SAAAwL,GAAK,MACd,cAAfA,EAAM1N,KACJ,eAAC8L,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYnM,GAAE,gBAAW8N,EAAM9M,KAA/B,SACG8M,EAAM7M,cAET,cAACmL,EAAA,EAAD,CACEC,QAAO,gBAAWyB,EAAM9M,KACxBhB,GAAI8N,EAAM9M,IACVI,MAAO0M,EAAM1M,OAAS,GACtBkL,SAAU,SAAAvK,GAAC,OAAI8L,EAAuB9L,EAAG+L,IAJ3C,SAMGA,EAAM5M,OAAOoB,KAAI,SAAA4L,GAAG,OACnB,cAAC,EAAD,CAAoB9M,MAAO8M,EAA3B,SACGA,GADYA,UAXHJ,EAAM9M,KAkBxB,cAAC8L,EAAA,EAAD,CAEEC,WAAS,EACTC,OAAO,QACPV,SAAU,SAAAvK,GAAC,OAAI8L,EAAuB9L,EAAG+L,IACzC1N,KAAM,OACNgB,MAAO0M,EAAM1M,OAAS,GACtBf,MAAOyN,EAAM7M,YACbkN,YAAaL,EAAM7M,aAPd6M,EAAM9M,QAWjB,cAAC0D,EAAA,EAAD,CAAQ/E,QAAQ,OAAOD,eAAa,EAACE,QAzG3B,WAClB,IAAMsN,EAAS,CACbpM,UAAW8M,EAAc9M,UACzBgC,aAAc8K,EAAcnN,OAAO6B,KAAI,SAAAqK,GAAC,MAAK,CAC3C3L,IAAK2L,EAAE3L,IACPI,MAAOuL,EAAEvL,WAGbgD,EAAa8I,IAiGL,4B,iBCpJNkB,G,OAAY,CAChBC,gBAAiBC,MAqdJC,UAldf,WAAqB,IAAD,UACMjK,mBAAS,IADf,mBACXkK,EADW,KACLC,EADK,OAEkBnK,mBAAS,UAF3B,mBAEXoK,EAFW,KAECC,EAFD,OAGsBrK,mBAAS,KAH/B,mBAGXsK,EAHW,KAGGC,EAHH,OAI0BvK,mBAAS,IAJnC,mBAIXwK,EAJW,aAKwBxK,mBAAS,OALjC,mBAOZyK,GAPY,UAOM,CACtB,CACE/O,GAAI,IACJI,KAAM,kBACNkB,KAAM,CACJjB,MAAO,OACPD,KAAM,QACN0B,SAAU,uBACVH,gBAAiB,SAAA3B,GACf2O,EAAc,UACdE,EAAgB7O,IAElBgC,UAAW,SAAAhC,GACT2O,EAAc,UACdE,EAAgB7O,KAGpBoD,SAAU,CAAE4L,EAAG,IAAKC,EAAG,OAxBT,EA2Bc3K,mBAASyK,GA3BvB,mBA2BXG,EA3BW,KA2BDC,EA3BC,KA+BZC,EAAmBC,mBACzBD,EAAiBpI,QAAUkI,EAC3B,IAAMI,EAAuBD,mBAC7BC,EAAqBtI,QAAU4H,EACLS,mBACRrI,QAAU8H,EAE5B,IAAMS,EAA0B,SAA1BA,EAA2BC,EAAQpM,GACvC,MAAO,CACL/C,MAAM,YACND,KAAM,SACN0B,SAAU,gBACVH,gBAAiB,SAAA3B,GACf2O,EAAc,MACdE,EAAgB7O,IAElBgC,UAAW,SAAAhC,GAAO,IAAD,EACf2O,EAAc,cACdE,EAAgB7O,GAEhB,IAAIyP,EAAYvN,OAAO8J,OAAO,GAAIoD,EAAiBpI,UAMnD,EALAyI,EAAYA,EAAU7C,QACpB,SAAAnB,GAAC,OACCA,EAAEzL,KAAOwP,GACT/D,EAAEzL,KAAF,iBAAmB0P,OAAOF,GAAU,GAAGG,WAAvC,YAAqDH,OAE/C3P,KAAV,SACE,CACEG,GAAIwP,EACJpP,KAAM,kBACNkB,KAAM,CACJjB,MAAM,QACND,KAAM,YACN0B,SAAU,gBACVH,gBAAiB,SAAA3B,GACf2O,EAAc,cACdE,EAAgB7O,IAElBgC,UAAW,SAAAhC,GACT2O,EAAc,cACdE,EAAgB7O,KAKpBoD,SAAUA,GAEZ,CACEpD,IAAK0P,OAAOF,GAAU,GAAGG,WACzBvP,KAAM,kBACNkB,KAAM,CACJjB,MAAM,UACND,KAAM,aACN0B,SAAU,aACVH,gBAAiB,SAAA3B,GACf2O,EAAc,WACdE,EAAgB7O,IAElBgC,UAAW,SAAAhC,GACT2O,EAAc,WACdE,EAAgB7O,IAElBgD,mBAAoB,SAAA4M,GAAS,OAC3B5M,EAAmBwM,EAAQI,KAE/BxM,SAAU,CAAE4L,EAAG5L,EAAS4L,EAAGC,EAAG7L,EAAS6L,EAAI,MAE7C,CACEjP,IAAK0P,OAAOF,GAAU,GAAGG,WACzBvP,KAAM,kBACNkB,KAAMiO,GAAyBG,OAAOF,GAAU,GAAGG,WAAY,CAC7DX,EAAG5L,EAAS4L,EAAI,IAChBC,EAAG7L,EAAS6L,EAAI,MAElB7L,SAAU,CAAE4L,EAAG5L,EAAS4L,EAAI,IAAKC,EAAG7L,EAAS6L,EAAI,OAhDrD,mBAkDiB,MAAXO,EACA,CACE,CACExP,GAAG,SAAD,QAAY0P,OAAOF,GAAU,GAAGG,WAAhC,YAA8CH,GAChDK,QAASH,OAAOF,GAAU,GAAGG,WAC7BpD,OAAQiD,EACRpP,KAAM,eAGV,IA3DN,CA4DE,CACEJ,GAAG,SAAD,OAAWwP,EAAX,aAAsBE,OAAOF,GAAU,GAAGG,YAC5CE,OAAQL,EACRjD,QAASmD,OAAOF,GAAU,GAAGG,WAC7BvP,KAAM,aACNC,MAAO,OAET,CACEL,GAAG,SAAD,OAAWwP,EAAX,aAAsBE,OAAOF,GAAU,GAAGG,YAC5CE,OAAQL,EACRjD,QAASmD,OAAOF,GAAU,GAAGG,WAC7BvP,KAAM,aACNC,MAAO,SAGX8O,EAAYM,IAEdvM,UAAW,aACXC,WAAY,SAAAnD,GAAO,IAAD,EAChB2O,EAAc,WACdE,EAAgB7O,GAEhB,IAAIyP,EAAYvN,OAAO8J,OAAO,GAAIoD,EAAiBpI,UAMnD,EALAyI,EAAYA,EAAU7C,QACpB,SAAAnB,GAAC,OACCA,EAAEzL,KAAOwP,GACT/D,EAAEzL,KAAF,iBAAmB0P,OAAOF,GAAU,GAAGG,WAAvC,YAAqDH,OAE/C3P,KAAV,SACE,CACEG,GAAIwP,EACJpP,KAAM,kBACNkB,KAAM,CACJjB,MAAM,UACND,KAAM,SACN0B,SAAU,aACVH,gBAAiB,SAAA3B,GACf2O,EAAc,WACdE,EAAgB7O,IAElBgC,UAAW,SAAAhC,GACT2O,EAAc,WACdE,EAAgB7O,IAElBgD,mBAAoB,SAAA4M,GAAS,OAC3B5M,EAAmBwM,EAAQI,KAE/BxM,SAAUA,IAnBd,mBAqBiB,MAAXoM,EACA,CACE,CACExP,GAAG,SAAD,QAAY0P,OAAOF,GAAU,GAAGG,WAAhC,YAA8CH,GAChDK,QAASH,OAAOF,GAAU,GAAGG,WAC7BpD,OAAQiD,EACRpP,KAAM,eAGV,MAGN+O,EAAYM,MA2HZzM,EAAqB,SAACwM,EAAQI,GAAe,IAAD,EAC5CH,EAAYvN,OAAO8J,OAAO,GAAIoD,EAAiBpI,WAClD,UAAAyI,EAAUjE,MAAK,SAAAsE,GAAE,OAAIA,EAAG9P,KAAOwP,KAAQlO,YAAvC,eAA6CM,OAAQ,IAAI6K,OACxDmD,EACA,GAQFT,EAAYM,IAgCd,OACE,eAACM,EAAA,EAAD,CAAYC,YAAU,EAACC,MAAM,mBAA7B,UACGvB,GACC,sBAAKjP,UAAU,SAAf,UACkB,WAAfiP,GACC,cAAC,EAAD,CACErK,iBAAkBmK,EAAKjO,SACvB6D,aAvKc,SAAA8L,GACxBzB,EAAQ,2BAAKD,GAAN,IAAYjO,SAAU2P,EAAM3P,YACnC,IAAIkP,EAAYvN,OAAO8J,OAAO,GAAIkD,GAClCO,EAAU,GAAK,CACbzP,GAAI,IACJI,KAAM,kBACNkB,KAAM,CACJjB,MAAO,OACPD,KAAM,QACNwB,KAAMsO,EACNvO,gBAAiB,SAAA3B,GACf2O,EAAc,UACdE,EAAgB7O,IAElBgC,UAAW,SAAAhC,GACT2O,EAAc,UACdE,EAAgB7O,KAGpBoD,SAAU,CAAE4L,EAAG,IAAKC,EAAG,KAGA,IAArBQ,EAAUxM,QACZwM,EAAU5P,KACR,CACEG,GAAI,IACJI,KAAM,kBACNkB,KAAMiO,EAAwB,IAAK,CAAEP,EAAG,IAAKC,EAAG,MAChD7L,SAAU,CAAE4L,EAAG,IAAKC,EAAG,MAEzB,CACEjP,GAAI,YACJ6P,OAAQ,IACRtD,OAAQ,IACRnM,KAAM,eAIZuO,EAAc,MACdQ,EAAYM,MAiJU,eAAff,GACC,cAAC,EAAD,CACErK,iBAAkBmK,EAAKjO,SACvB2K,sBACE,UAAAgE,EAAS1D,MAAK,SAAAsE,GAAE,OAAIA,EAAG9P,KAAOsP,EAAqBtI,kBAAnD,mBACI1F,YADJ,eACUM,OAAQ,GAEpBwC,aArJkB,SAAA+L,GAAiB,IAAD,EAKxCV,EAAYvN,OAAO8J,OAAO,GAAIkD,GAC9BkB,EAAgBX,EAAUxB,WAAU,SAAAxC,GAAC,OAAIA,EAAEzL,KAAO4O,KACtDa,EAAUW,GAAV,2BACKX,EAAUW,IADf,IAEE9O,KAAK,2BAAD,QAAC,EACAmO,EAAUW,UADX,aACC,EAA0B9O,MAD3B,IAEFM,KAAMuO,MAGVhB,EAAYM,MAuJU,YAAff,GACC,cAAC,EAAD,CACEtB,mBACE,UAAA8B,EAAS1D,MAAK,SAAAsE,GAAE,OAAIA,EAAG9P,KAAOsP,EAAqBtI,kBAAnD,mBACI1F,YADJ,eACUM,OAAQ,GAEpBwC,aA1Je,SAAAiM,GAAc,IAAD,MAClCZ,EAAYvN,OAAO8J,OAAO,GAAIkD,GAC9BkB,EAAgBX,EAAUxB,WAAU,SAAAxC,GAAC,OAAIA,EAAEzL,KAAO4O,KACtDa,EAAUW,GAAV,2BACKX,EAAUW,IADf,IAEE9O,KAAK,2BAAD,QAAC,EACAmO,EAAUW,UADX,aACC,EAA0B9O,MAD3B,IAEFM,KAAK,GAAD,oBAAO,UAAA6N,EAAUW,UAAV,mBAA0B9O,YAA1B,eAAgCM,OAAQ,IAA/C,CAAoDyO,QAG5DlB,EAAYM,SAgMV,sBAAKhQ,UAAU,eAAf,UACE,cAACR,EAAA,EAAD,CAAYE,WAnIC,WACjB,IAAMmR,EAAQpB,EAAStC,QAAO,SAAAkD,GAAE,MAAgB,oBAAZA,EAAG1P,QACjCmQ,EAAY,GAClBD,EAAM5C,SAAQ,SAAA8C,GACZ,OAAQA,EAAKlP,KAAKlB,MAChB,IAAK,QACHmQ,EAAU1Q,KAAK,CAAEqQ,MAAOM,EAAKlP,KAAK4O,QAClC,MACF,IAAK,YACHK,EAAU1Q,KAAK,CAAE4Q,UAAWD,EAAKlP,KAAKqK,aACtC,MACF,IAAK,aACL,IAAK,SACH4E,EAAU1Q,KAAV,eAAkB2Q,EAAKlP,KAAKlB,KAA5B,YAAwCoQ,EAAKlP,KAAKoP,SAAW,UAMnEC,QAAQC,IAAI,SAAUL,IAgHlB,SACE,cAAC9L,EAAA,EAAD,CAAY9E,QAAQ,KAApB,mCAEF,qBAAKF,UAAU,YAAf,SACE,cAAC,IAAD,CACEoR,oBAAoB,EACpB3B,SAAUA,EACV4B,iBA1ae,SAAAC,GAAgB,OACvC5B,GAAY,SAAA6B,GAAG,OAAIC,YAAeF,EAAkBC,OA0a5CE,UAzaQ,SAAAC,GAAM,OAAIhC,GAAY,SAAA6B,GAAG,OAAII,YAAQD,EAAQH,OA0arD5C,UAAWA,EAEXiD,kBAvHsB,SAAAtP,GACzBA,GACH4M,EAAc","file":"static/js/4.4ab41a77.chunk.js","sourcesContent":["import React from \"react\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"./CardHeader.scss\";\r\n\r\nconst CardHeader = props => {\r\n  const { handleSave, hasPreviewButton, children, ...rest } = props;\r\n  const history = useHistory();\r\n\r\n  const navToPreview = () => {\r\n    history.push({ pathname: \"/preview\" });\r\n  };\r\n  return (\r\n    <div className={`CardHeader`} {...rest}>\r\n      <div className=\"left-section\">\r\n        {children}\r\n        <IconButton disableRipple>\r\n          <InfoOutlinedIcon />\r\n        </IconButton>\r\n      </div>\r\n      <div className=\"d-flex\">\r\n        {hasPreviewButton && (\r\n          <Button variant=\"text\" className=\"btn-preview\" onClick={navToPreview}>\r\n            Go to Preview\r\n          </Button>\r\n        )}\r\n        {handleSave && (\r\n          <Button variant=\"contained\" onClick={handleSave}>\r\n            Save\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { CardHeader };\r\n","export const EVENTS = [\r\n  { id: 1, name: \"New order placed\" },\r\n  { id: 2, name: \"New signup\" },\r\n  { id: 3, name: \"New subscriber\" },\r\n  { id: 4, name: \"New cancellation\" }\r\n];\r\n\r\nexport const CONDITIONS = [\r\n  { id: 1, name: \"Amount > 100\" },\r\n  { id: 2, name: \"Amount < 100\" },\r\n  { id: 3, name: \"Product is Coffee\" },\r\n  { id: 4, name: \"Product is Tea\" },\r\n  { id: 5, name: \"Date > Today\" },\r\n  { id: 6, name: \"Date < Today\" }\r\n];\r\nexport const ACTIONS = [\r\n  {\r\n    id: 1,\r\n    name: \"Send email to Contact\",\r\n    type: \"email\",\r\n    label: \"Email address\"\r\n  },\r\n  { id: 2, name: \"Call Contact\", type: \"tel\", label: \"Contact Number\" },\r\n  { id: 3, name: \"Add Tag to Contact\", type: \"tel\", label: \"Contact Number\" },\r\n  { id: 4, name: \"Remove Contact\", type: \"tel\", label: \"Contact Number\" }\r\n];\r\n\r\nexport const SAMPLE_EVENT_TRIGGERS = [\r\n  {\r\n    eventKey: \"NewOrder\",\r\n    eventDisplay: \"New order placed\",\r\n    fields: [\r\n      {\r\n        conditionKey: \"ProductTitle\",\r\n        conditionDisplay: \"Product Title\",\r\n        type: \"string\"\r\n      },\r\n      {\r\n        conditionKey: \"ProductAmount\",\r\n        conditionDisplay: \"Product Amount\",\r\n        type: \"int\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    eventKey: \"NewSignup\",\r\n    eventDisplay: \"New signup\",\r\n    fields: [\r\n      {\r\n        conditionKey: \"Gender\",\r\n        conditionDisplay: \"Customer Gender\",\r\n        type: \"option\",\r\n        options: [\"Male\", \"Female\"]\r\n      },\r\n      { conditionKey: \"DOB\", conditionDisplay: \"Birthday\", type: \"date\" }\r\n    ]\r\n  }\r\n];\r\n\r\nexport const SAMPLE_ACTIONS = [\r\n  {\r\n    actionKey: \"SendEmail\",\r\n    actionDisplay: \"Send email to contact\",\r\n    fields: [\r\n      { key: \"emailAddress\", placeHolder: \"Email Address\", type: \"string\" }\r\n    ]\r\n  },\r\n  {\r\n    actionKey: \"CallContact\",\r\n    actionDisplay: \"Call contact\",\r\n    fields: [\r\n      { key: \"callContact\", placeHolder: \"Contact Number\", type: \"string\" },\r\n      {\r\n        key: \"callContactCountry\",\r\n        placeHolder: \"Country\",\r\n        type: \"selection\",\r\n        option: [\"Singapore\", \"Malaysia\"]\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nexport const CONDITION_OPERATORS = [\r\n  { name: \"Equal\", value: \"=\", type: \"string\" },\r\n  { name: \"Not equal\", value: \"!=\", type: \"string\" },\r\n  { name: \"Contains\", value: \"contains\", type: \"string\" },\r\n  { name: \"Not contains\", value: \"not contains\", type: \"string\" },\r\n  { name: \"Greater than\", value: \">\", type: \"int\" },\r\n  { name: \"Less than\", value: \"<\", type: \"int\" },\r\n  { name: \"Greater and equal than\", value: \">=\", type: \"int\" },\r\n  { name: \"Less and equal than\", value: \"<=\", type: \"int\" },\r\n  { name: \"Equal\", value: \"=\", type: \"date\" },\r\n  { name: \"Earlier than\", value: \"earlier than\", type: \"date\" },\r\n  { name: \"Later than\", value: \"later than\", type: \"date\" }\r\n];\r\n\r\nexport const SAMPLE_FLOW = {\r\n  eventKey: \"NewOrder\",\r\n  conditions: [\r\n    {\r\n      \"Fn::If\": [\r\n        [\r\n          {\r\n            \"Fn::And\": [\r\n              {\r\n                conditionKey: \"ProductTitle\",\r\n                value: [\"coke\", \"pepsi\"],\r\n                operator: \"contains\"\r\n              },\r\n              {\r\n                conditionKey: \"ProductAmount\",\r\n                value: [\"30\"],\r\n                operator: \">=\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            \"Fn::If\": [\r\n              [\r\n                {\r\n                  conditionKey: \"ProductTitle\",\r\n                  value: [\"coke\"],\r\n                  operator: \"=\"\r\n                }\r\n              ],\r\n              [\r\n                {\r\n                  actionKey: \"CallContact\",\r\n                  actionInputs: [\r\n                    {\r\n                      key: \"callContact\",\r\n                      value: \"999\"\r\n                    },\r\n                    {\r\n                      key: \"callContactCountry\",\r\n                      value: \"Singapore\"\r\n                    }\r\n                  ]\r\n                }\r\n              ],\r\n              [\r\n                {\r\n                  actionKey: \"SendEmail\",\r\n                  actionInputs: [\r\n                    {\r\n                      key: \"sendEmail\",\r\n                      value: \"simon@gmail.com\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            ]\r\n          }\r\n        ],\r\n        [\r\n          {\r\n            actionKey: \"CallContact\",\r\n            actionInputs: [\r\n              {\r\n                key: \"callContact\",\r\n                value: \"0123456789\"\r\n              },\r\n              {\r\n                key: \"callContactCountry\",\r\n                value: \"Malaysia\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            actionKey: \"SendEmail\",\r\n            actionInputs: [\r\n              {\r\n                key: \"sendEmail\",\r\n                value: \"hello@gmail.com\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      ]\r\n    }\r\n  ]\r\n};\r\n","import React, { memo } from \"react\";\r\n\r\nimport { Handle, useStoreState } from \"react-flow-renderer\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport \"./ButtonSelectorNode.scss\";\r\n\r\nexport default memo(({ id, data, isConnectable }) => {\r\n  const selectedElements = useStoreState(store => store.selectedElements);\r\n\r\n  return (\r\n    <div\r\n      className={`ButtonSelectorNode ${\r\n        selectedElements && selectedElements[0].id === id ? \"is-selected\" : \"\"\r\n      }`}\r\n      onClick={() => data.focusNodeAction(id)}\r\n    >\r\n      <div>\r\n        <Typography variant=\"body1\">{data.label}</Typography>\r\n      </div>\r\n\r\n      {data.type === \"event\" &&\r\n        (data.item ? (\r\n          <Button variant=\"contained\" disabled className=\"lbl-event\">\r\n            {data.item?.eventDisplay}\r\n          </Button>\r\n        ) : (\r\n          data.btnLabel && (\r\n            <Button\r\n              onClick={e => {\r\n                data.btnAction(id);\r\n                e.stopPropagation();\r\n              }}\r\n              variant=\"contained\"\r\n            >\r\n              {data.btnLabel}\r\n            </Button>\r\n          )\r\n        ))}\r\n\r\n      {(data.type === \"condition\" || data.type === \"choice\") &&\r\n        (data.item ? (\r\n          <Button variant=\"contained\" disabled className=\"lbl-condition\">\r\n            {Object.keys(data.item)[0].includes(\"Fn::\")\r\n              ? Object.values(data.item)[0]\r\n                  .map(\r\n                    cond =>\r\n                      `${cond.conditionKey} ${cond.operator} ${cond.value.join(\r\n                        \", \"\r\n                      )}`\r\n                  )\r\n                  .join(` ${Object.keys(data.item)[0].replace(\"Fn::\", \"\")} `)\r\n              : `${data.item.conditionKey} ${\r\n                  data.item.operator\r\n                } ${data.item.value.join(\", \")}`}\r\n          </Button>\r\n        ) : (\r\n          // data.conditions.map((c, i) => (\r\n          //     <React.Fragment key={c.id}>\r\n          //       <div className=\"label-div\">\r\n          //         <Button\r\n          //           variant=\"contained\"\r\n          //           disabled\r\n          //           className=\"lbl-condition\"\r\n          //         >\r\n          //           {c.name}\r\n          //         </Button>\r\n          //         <IconButton\r\n          //           disableRipple\r\n          //           onClick={() => data.handleDeleteCondition(id, c.id)}\r\n          //         >\r\n          //           <HighlightOffIcon />\r\n          //         </IconButton>\r\n          //         {i !== data.conditions.length - 1 && (\r\n          //           <Typography variant=\"h6\">AND</Typography>\r\n          //         )}\r\n          //       </div>\r\n          //     </React.Fragment>\r\n          //   ))\r\n          data.btnLabel && (\r\n            <Button\r\n              onClick={e => {\r\n                data.btnAction(id);\r\n                e.stopPropagation();\r\n              }}\r\n              variant=\"contained\"\r\n            >\r\n              {data.btnLabel}\r\n            </Button>\r\n          )\r\n        ))}\r\n\r\n      {/* type === 'action' || type === 'action-yes' */}\r\n      {data.type.includes(\"action\") &&\r\n        (data.item\r\n          ? data.item.map((a, i) => (\r\n              <React.Fragment key={i}>\r\n                <div className=\"label-div\">\r\n                  <Button variant=\"contained\" disabled className=\"lbl-action\">\r\n                    {`Action: ${a.actionKey}\r\n                    ${a.actionInputs\r\n                      .map(ai => `${ai.key} - ${ai.value}`)\r\n                      .join(\", \")}`}\r\n                  </Button>\r\n                  <IconButton\r\n                    disableRipple\r\n                    onClick={() => data.handleDeleteAction(i)}\r\n                  >\r\n                    <HighlightOffIcon />\r\n                  </IconButton>\r\n                  {i !== data.item.length - 1 && (\r\n                    <Typography variant=\"h6\">AND</Typography>\r\n                  )}\r\n                </div>\r\n              </React.Fragment>\r\n            ))\r\n          : data.btnLabel && (\r\n              <Button\r\n                onClick={e => {\r\n                  data.btnAction(id);\r\n                  e.stopPropagation();\r\n                }}\r\n                variant=\"contained\"\r\n              >\r\n                {data.btnLabel}\r\n              </Button>\r\n            ))}\r\n\r\n      {data.type === \"choice\" && (\r\n        <Typography variant=\"h6\" className=\"text-or\">\r\n          OR\r\n        </Typography>\r\n      )}\r\n\r\n      {data.btnLabel2 && (\r\n        <Button\r\n          onClick={e => {\r\n            data.btnAction2(id);\r\n            e.stopPropagation();\r\n          }}\r\n          variant=\"contained\"\r\n        >\r\n          {data.btnLabel2}\r\n        </Button>\r\n      )}\r\n\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"bottom\"\r\n        style={{ bottom: 10, top: \"auto\", background: \"#555\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { CardHeader } from \"components/common/CardHeader/CardHeader\";\r\nimport AddBoxOutlinedIcon from \"@material-ui/icons/AddBoxOutlined\";\r\nimport KeyboardArrowUpOutlinedIcon from \"@material-ui/icons/KeyboardArrowUpOutlined\";\r\nimport KeyboardArrowDownOutlinedIcon from \"@material-ui/icons/KeyboardArrowDownOutlined\";\r\nimport { SAMPLE_EVENT_TRIGGERS } from \"constants/constants\";\r\n\r\nimport \"./Events.scss\";\r\n\r\nconst Events = props => {\r\n  const { handleSelect, selectedEventKey, ...rest } = props;\r\n  const [showMore, setShowMore] = useState(false);\r\n\r\n  return (\r\n    <div className={`Events`} {...rest}>\r\n      <CardHeader>\r\n        <Typography variant=\"h3\">Events</Typography>\r\n      </CardHeader>\r\n\r\n      <div\r\n        className={`content-body ${\r\n          SAMPLE_EVENT_TRIGGERS.length > 3 ? \"has-show-more\" : \"\"\r\n        } ${showMore ? \"show-all\" : \"\"}`}\r\n        {...rest}\r\n      >\r\n        {SAMPLE_EVENT_TRIGGERS.map(item => (\r\n          <Button\r\n            key={item.eventKey}\r\n            onClick={() => handleSelect(item)}\r\n            disableRipple\r\n            variant=\"text\"\r\n            className={`btn-card-item ${\r\n              selectedEventKey === item.eventKey ? \"on-focus\" : \"\"\r\n            }`}\r\n            startIcon={<AddBoxOutlinedIcon />}\r\n          >\r\n            {item.eventDisplay}\r\n          </Button>\r\n        ))}\r\n      </div>\r\n\r\n      {SAMPLE_EVENT_TRIGGERS.length > 3 && (\r\n        <div className=\"btn-show-more\">\r\n          <Button\r\n            onClick={() => setShowMore(!showMore)}\r\n            variant=\"text\"\r\n            disableRipple\r\n            endIcon={\r\n              showMore ? (\r\n                <KeyboardArrowUpOutlinedIcon />\r\n              ) : (\r\n                <KeyboardArrowDownOutlinedIcon />\r\n              )\r\n            }\r\n          >\r\n            Show {showMore ? \"less\" : \"more\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nEvents.propTypes = {\r\n  selectedEventKey: PropTypes.string,\r\n  handleSelect: PropTypes.func\r\n};\r\nexport { Events };\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport * as ReactDOM from 'react-dom';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the (normally root) `component` element. May be wrapped by a `container`. */\n    root: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      position: 'relative',\n      textDecoration: 'none',\n      width: '100%',\n      boxSizing: 'border-box',\n      textAlign: 'left',\n      paddingTop: 8,\n      paddingBottom: 8,\n      '&$focusVisible': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$selected, &$selected:hover': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the `container` element if `children` includes `ListItemSecondaryAction`. */\n    container: {\n      position: 'relative'\n    },\n\n    /* Pseudo-class applied to the `component`'s `focusVisibleClassName` prop if `button={true}`. */\n    focusVisible: {},\n\n    /* Styles applied to the `component` element if dense. */\n    dense: {\n      paddingTop: 4,\n      paddingBottom: 4\n    },\n\n    /* Styles applied to the `component` element if `alignItems=\"flex-start\"`. */\n    alignItemsFlexStart: {\n      alignItems: 'flex-start'\n    },\n\n    /* Pseudo-class applied to the inner `component` element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the inner `component` element if `divider={true}`. */\n    divider: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider),\n      backgroundClip: 'padding-box'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the inner `component` element if `button={true}`. */\n    button: {\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: theme.palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the `component` element if `children` includes `ListItemSecondaryAction`. */\n    secondaryAction: {\n      // Add some space to avoid collision as `ListItemSecondaryAction`\n      // is absolutely positioned.\n      paddingRight: 48\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {}\n  };\n};\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nvar ListItem = /*#__PURE__*/React.forwardRef(function ListItem(props, ref) {\n  var _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'center' : _props$alignItems,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? false : _props$autoFocus,\n      _props$button = props.button,\n      button = _props$button === void 0 ? false : _props$button,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      componentProp = props.component,\n      _props$ContainerCompo = props.ContainerComponent,\n      ContainerComponent = _props$ContainerCompo === void 0 ? 'li' : _props$ContainerCompo,\n      _props$ContainerProps = props.ContainerProps;\n  _props$ContainerProps = _props$ContainerProps === void 0 ? {} : _props$ContainerProps;\n\n  var ContainerClassName = _props$ContainerProps.className,\n      ContainerProps = _objectWithoutProperties(_props$ContainerProps, [\"className\"]),\n      _props$dense = props.dense,\n      dense = _props$dense === void 0 ? false : _props$dense,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$divider = props.divider,\n      divider = _props$divider === void 0 ? false : _props$divider,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$selected = props.selected,\n      selected = _props$selected === void 0 ? false : _props$selected,\n      other = _objectWithoutProperties(props, [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"classes\", \"className\", \"component\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"divider\", \"focusVisibleClassName\", \"selected\"]);\n\n  var context = React.useContext(ListContext);\n  var childContext = {\n    dense: dense || context.dense || false,\n    alignItems: alignItems\n  };\n  var listItemRef = React.useRef(null);\n  useEnhancedEffect(function () {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('Material-UI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  var children = React.Children.toArray(childrenProp);\n  var hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    listItemRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(handleOwnRef, ref);\n\n  var componentProps = _extends({\n    className: clsx(classes.root, className, childContext.dense && classes.dense, !disableGutters && classes.gutters, divider && classes.divider, disabled && classes.disabled, button && classes.button, alignItems !== \"center\" && classes.alignItemsFlexStart, hasSecondaryAction && classes.secondaryAction, selected && classes.selected),\n    disabled: disabled\n  }, other);\n\n  var Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(classes.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  }\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(ListContext.Provider, {\n      value: childContext\n    }, /*#__PURE__*/React.createElement(ContainerComponent, _extends({\n      className: clsx(classes.container, ContainerClassName),\n      ref: handleRef\n    }, ContainerProps), /*#__PURE__*/React.createElement(Component, componentProps, children), children.pop()));\n  }\n\n  return /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    ref: handleRef\n  }, componentProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes = {\n  /**\n   * Defines the `align-items` style property.\n   */\n  alignItems: PropTypes.oneOf(['flex-start', 'center']),\n\n  /**\n   * If `true`, the list item will be focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the list item will be a button (using `ButtonBase`). Props intended\n   * for `ButtonBase` can then be applied to `ListItem`.\n   */\n  button: PropTypes.bool,\n\n  /**\n   * The content of the component. If a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, function (props) {\n    var children = React.Children.toArray(props.children); // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n\n    var secondaryActionIndex = -1;\n\n    for (var i = children.length - 1; i >= 0; i -= 1) {\n      var child = children[i];\n\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    } //  is ListItemSecondaryAction the last child of ListItem\n\n\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('Material-UI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   * By default, it's a `li` when `button` is `false` and a `div` when `button` is `true`.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   */\n  ContainerComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the container component if used.\n   */\n  ContainerProps: PropTypes.object,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * If `true`, the list item will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   */\n  divider: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * Use to apply selected styling.\n   */\n  selected: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItem'\n})(ListItem);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListItem from '../ListItem';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body1, _defineProperty({\n      minHeight: 48,\n      paddingTop: 6,\n      paddingBottom: 6,\n      boxSizing: 'border-box',\n      width: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    })),\n    // TODO v5: remove\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: {},\n\n    /* Styles applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the root element if dense. */\n    dense: _extends({}, theme.typography.body2, {\n      minHeight: 'auto'\n    })\n  };\n};\nvar MenuItem = /*#__PURE__*/React.forwardRef(function MenuItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      ListItemClasses = props.ListItemClasses,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'menuitem' : _props$role,\n      selected = props.selected,\n      tabIndexProp = props.tabIndex,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"ListItemClasses\", \"role\", \"selected\", \"tabIndex\"]);\n\n  var tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return /*#__PURE__*/React.createElement(ListItem, _extends({\n    button: true,\n    role: role,\n    tabIndex: tabIndex,\n    component: component,\n    selected: selected,\n    disableGutters: disableGutters,\n    classes: _extends({\n      dense: classes.dense\n    }, ListItemClasses),\n    className: clsx(classes.root, className, selected && classes.selected, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? MenuItem.propTypes = {\n  /**\n   * Menu item contents.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * `classes` prop applied to the [`ListItem`](/api/list-item/) element.\n   */\n  ListItemClasses: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiMenuItem'\n})(MenuItem);","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport AddBoxOutlinedIcon from \"@material-ui/icons/AddBoxOutlined\";\r\nimport { CardHeader } from \"components/common/CardHeader/CardHeader\";\r\nimport {\r\n  SAMPLE_EVENT_TRIGGERS,\r\n  CONDITION_OPERATORS\r\n} from \"constants/constants\";\r\n\r\nimport \"./Conditions.scss\";\r\n\r\nconst Conditions = props => {\r\n  const { selectedEventKey, selectedConditionObj, handleSelect, ...rest } =\r\n    props;\r\n\r\n  useEffect(() => {\r\n    setConditions(\r\n      Object.keys(selectedConditionObj)[0]?.includes(\"Fn::\")\r\n        ? Object.values(selectedConditionObj)[0]\r\n        : [\r\n            {\r\n              conditionKey: selectedConditionObj.conditionKey || \"\",\r\n              value: selectedConditionObj.value || [],\r\n              operator: selectedConditionObj.operator || \"\"\r\n            }\r\n          ]\r\n    );\r\n    setMustMeet(\r\n      Object.keys(selectedConditionObj)[0]?.includes(\"Fn::\")\r\n        ? Object.keys(selectedConditionObj)[0]\r\n        : \"\"\r\n    );\r\n  }, [selectedConditionObj]);\r\n\r\n  const initialConditionObj = {\r\n    conditionKey: \"\",\r\n    value: [],\r\n    operator: \"\"\r\n  };\r\n\r\n  const selectedEventFields = SAMPLE_EVENT_TRIGGERS.find(\r\n    t => t.eventKey === selectedEventKey\r\n  ).fields;\r\n\r\n  const [mustMeet, setMustMeet] = useState(\"\");\r\n  const [conditions, setConditions] = useState([\r\n    {\r\n      conditionKey: \"\",\r\n      value: [],\r\n      operator: \"\"\r\n    }\r\n  ]);\r\n\r\n  const handleOnAdd = () => {\r\n    if (!mustMeet) {\r\n      setMustMeet(\"Fn::And\");\r\n    }\r\n    setConditions([...conditions, initialConditionObj]);\r\n  };\r\n\r\n  const handleOnSave = () => {\r\n    const result = mustMeet ? { [mustMeet]: conditions } : conditions[0];\r\n    handleSelect(result);\r\n  };\r\n\r\n  const handleOnRemove = index => {\r\n    if (conditions.length === 2) {\r\n      setMustMeet(\"\");\r\n    }\r\n    const tempConditions = Object.assign([], conditions);\r\n    tempConditions.splice(index, 1);\r\n    setConditions(tempConditions);\r\n  };\r\n\r\n  const handleOnChange = (value, index, keyName) => {\r\n    const tempConditions = Object.assign([], conditions);\r\n    if (keyName === \"value\") {\r\n      tempConditions[index].value = value.split(\",\");\r\n    } else {\r\n      tempConditions[index][keyName] = value;\r\n    }\r\n    setConditions(tempConditions);\r\n  };\r\n\r\n  return (\r\n    <div className={`Conditions`} {...rest}>\r\n      <CardHeader>\r\n        <Typography variant=\"h3\">Conditions</Typography>\r\n      </CardHeader>\r\n\r\n      <div className={`content-body`} {...rest}>\r\n        {conditions.length > 1 && (\r\n          <FormControl className=\"mb-1-5\">\r\n            <InputLabel id={`label-must-meet`}>\r\n              All conditions must meet\r\n            </InputLabel>\r\n            <Select\r\n              labelId={`label-must-meet`}\r\n              id=\"must-meet\"\r\n              value={mustMeet}\r\n              onChange={e => setMustMeet(e.target.value)}\r\n            >\r\n              <MenuItem value=\"Fn::And\">AND</MenuItem>\r\n              <MenuItem value=\"Fn::Or\">OR</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        )}\r\n\r\n        {conditions.map((c, i) => (\r\n          <React.Fragment key={i}>\r\n            {i !== 0 && (\r\n              <Button\r\n                className=\"btn-clear\"\r\n                variant=\"text\"\r\n                startIcon={<ClearIcon />}\r\n                disableRipple\r\n                onClick={() => handleOnRemove(i)}\r\n              >\r\n                Remove\r\n              </Button>\r\n            )}\r\n            <FormControl>\r\n              <InputLabel id={`label-condition-${i}`}>\r\n                Condition {i + 1}\r\n              </InputLabel>\r\n              <Select\r\n                labelId={`label-condition-${i}`}\r\n                id={`condition-${i}`}\r\n                value={c.conditionKey || \"\"}\r\n                onChange={e =>\r\n                  handleOnChange(e.target.value, i, \"conditionKey\")\r\n                }\r\n              >\r\n                {selectedEventFields.map(item => (\r\n                  <MenuItem key={item.conditionKey} value={item.conditionKey}>\r\n                    {item.conditionDisplay}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <FormControl>\r\n              <InputLabel id={`label-operator-${i}`}>\r\n                Operator {i + 1}\r\n              </InputLabel>\r\n              <Select\r\n                labelId={`label-operator-${i}`}\r\n                id={`operator-${i}`}\r\n                value={c.operator || \"\"}\r\n                onChange={e => handleOnChange(e.target.value, i, \"operator\")}\r\n              >\r\n                {selectedEventFields.find(\r\n                  f => f.conditionKey === c.conditionKey\r\n                )?.type === \"option\"\r\n                  ? selectedEventFields\r\n                      .find(f => f.conditionKey === c.conditionKey)\r\n                      .options.map(option => (\r\n                        <MenuItem key={option} value={option}>\r\n                          {option}\r\n                        </MenuItem>\r\n                      ))\r\n                  : CONDITION_OPERATORS.filter(\r\n                      o =>\r\n                        o.type ===\r\n                        selectedEventFields.find(\r\n                          f => f.conditionKey === c.conditionKey\r\n                        )?.type\r\n                    )?.map(operator => (\r\n                      <MenuItem key={operator.value} value={operator.value}>\r\n                        {operator.name}\r\n                      </MenuItem>\r\n                    ))}\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <FormControl>\r\n              <TextField\r\n                fullWidth\r\n                margin=\"dense\"\r\n                onChange={e => handleOnChange(e.target.value, i, \"value\")}\r\n                type={\"text\"}\r\n                value={c.value.join(\",\") || \"\"}\r\n                label={`Value ${i + 1}`}\r\n              />\r\n              <FormHelperText>\r\n                Please separate multiple values by comma\r\n              </FormHelperText>\r\n            </FormControl>\r\n\r\n            {conditions.length - 1 !== i && (\r\n              <Typography variant=\"h6\" className=\"must-meet-separator\">\r\n                {mustMeet === \"Fn::And\" ? \"AND\" : \"OR\"}\r\n              </Typography>\r\n            )}\r\n          </React.Fragment>\r\n        ))}\r\n\r\n        <Button\r\n          variant=\"text\"\r\n          startIcon={<AddBoxOutlinedIcon />}\r\n          disableRipple\r\n          className=\"btn-add\"\r\n          onClick={handleOnAdd}\r\n        >\r\n          Add Condition\r\n        </Button>\r\n        <Button variant=\"contained\" disableRipple onClick={handleOnSave}>\r\n          Save Condition\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nConditions.propTypes = {\r\n  selectedEventKey: PropTypes.string,\r\n  selectedConditionObj: PropTypes.object,\r\n  handleSelect: PropTypes.func\r\n};\r\nexport { Conditions };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { CardHeader } from \"components/common/CardHeader/CardHeader\";\r\nimport AddBoxOutlinedIcon from \"@material-ui/icons/AddBoxOutlined\";\r\nimport KeyboardArrowUpOutlinedIcon from \"@material-ui/icons/KeyboardArrowUpOutlined\";\r\nimport KeyboardArrowDownOutlinedIcon from \"@material-ui/icons/KeyboardArrowDownOutlined\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { SAMPLE_ACTIONS } from \"constants/constants\";\r\n\r\nimport \"./Actions.scss\";\r\n\r\nconst Actions = props => {\r\n  const { handleSelect, handleAddAction, selectedActionObj, ...rest } = props;\r\n\r\n  useEffect(() => {\r\n    setClickedAction(formatActionInputs(selectedActionObj));\r\n  }, [selectedActionObj]);\r\n\r\n  // {\r\n  //   actionKey: \"CallContact\",\r\n  //   actionInputs: [\r\n  //     {\r\n  //       key: \"callContact\",\r\n  //       value: \"0123456789\"\r\n  //     },\r\n  //     {\r\n  //       key: \"callContactCountry\",\r\n  //       value: \"Singapore\"\r\n  //     }\r\n  //   ]\r\n  // }\r\n\r\n  const formatActionInputs = onFocusObj => {\r\n    const tempAction =\r\n      SAMPLE_ACTIONS.find(f => f.actionKey === onFocusObj.actionKey) || {};\r\n    tempAction.fields?.forEach(f => {\r\n      f.value = onFocusObj.actionInputs.find(\r\n        input => input.key === f.key\r\n      )?.value;\r\n    });\r\n    return tempAction;\r\n  };\r\n\r\n  const [clickedAction, setClickedAction] = useState({});\r\n  const [showMore, setShowMore] = useState(false);\r\n\r\n  const handleOnClickAction = action => {\r\n    setClickedAction(action);\r\n  };\r\n\r\n  const handleOnAdd = () => {\r\n    const result = {\r\n      actionKey: clickedAction.actionKey,\r\n      actionInputs: clickedAction.fields.map(f => ({\r\n        key: f.key,\r\n        value: f.value\r\n      }))\r\n    };\r\n    handleSelect(result);\r\n  };\r\n\r\n  const handleFieldInputChange = (e, field) => {\r\n    const tempClickedAction = Object.assign({}, clickedAction);\r\n    const fieldIndex = clickedAction.fields.findIndex(f => f.key === field.key);\r\n    tempClickedAction.fields[fieldIndex].value = e.target.value;\r\n    setClickedAction(tempClickedAction);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={`Actions`} {...rest}>\r\n        <CardHeader>\r\n          <Typography variant=\"h3\">Actions</Typography>\r\n        </CardHeader>\r\n\r\n        <div\r\n          className={`content-body ${\r\n            SAMPLE_ACTIONS.length > 3 ? \"has-show-more\" : \"\"\r\n          } ${showMore ? \"show-all\" : \"\"}`}\r\n          {...rest}\r\n        >\r\n          {SAMPLE_ACTIONS.map(item => (\r\n            <Button\r\n              key={item.actionKey}\r\n              onClick={() => handleOnClickAction(item)}\r\n              disableRipple\r\n              variant=\"text\"\r\n              className={`btn-card-item ${\r\n                clickedAction?.actionKey === item.actionKey ? \"on-focus\" : \"\"\r\n              }`}\r\n              startIcon={<AddBoxOutlinedIcon />}\r\n            >\r\n              {item.actionDisplay}\r\n            </Button>\r\n          ))}\r\n        </div>\r\n\r\n        {SAMPLE_ACTIONS.length > 3 && (\r\n          <div className=\"btn-show-more\">\r\n            <Button\r\n              onClick={() => setShowMore(!showMore)}\r\n              variant=\"text\"\r\n              disableRipple\r\n              endIcon={\r\n                showMore ? (\r\n                  <KeyboardArrowUpOutlinedIcon />\r\n                ) : (\r\n                  <KeyboardArrowDownOutlinedIcon />\r\n                )\r\n              }\r\n            >\r\n              Show {showMore ? \"less\" : \"more\"}\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {Object.keys(clickedAction).length > 0 && (\r\n        <>\r\n          <CardHeader>\r\n            <Typography variant=\"h3\">Action Details</Typography>\r\n          </CardHeader>\r\n          <div className=\"card-body\">\r\n            {clickedAction.fields.map(field =>\r\n              field.type === \"selection\" ? (\r\n                <FormControl key={field.key}>\r\n                  <InputLabel id={`label-${field.key}`}>\r\n                    {field.placeHolder}\r\n                  </InputLabel>\r\n                  <Select\r\n                    labelId={`label-${field.key}`}\r\n                    id={field.key}\r\n                    value={field.value || \"\"}\r\n                    onChange={e => handleFieldInputChange(e, field)}\r\n                  >\r\n                    {field.option.map(opt => (\r\n                      <MenuItem key={opt} value={opt}>\r\n                        {opt}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              ) : (\r\n                <TextField\r\n                  key={field.key}\r\n                  fullWidth\r\n                  margin=\"dense\"\r\n                  onChange={e => handleFieldInputChange(e, field)}\r\n                  type={\"text\"}\r\n                  value={field.value || \"\"}\r\n                  label={field.placeHolder}\r\n                  placeholder={field.placeHolder}\r\n                />\r\n              )\r\n            )}\r\n            <Button variant=\"text\" disableRipple onClick={handleOnAdd}>\r\n              Add\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nActions.propTypes = {\r\n  handleSelect: PropTypes.func,\r\n  handleAddAction: PropTypes.func,\r\n  selectedActionObj: PropTypes.object\r\n};\r\nexport { Actions };\r\n","import React, { useState, useRef } from \"react\";\r\nimport ReactFlow, { removeElements, addEdge } from \"react-flow-renderer\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Events } from \"components/sidePanel/Events/Events\";\r\nimport { Conditions } from \"components/sidePanel/Conditions/Conditions\";\r\nimport { Actions } from \"components/sidePanel/Actions/Actions\";\r\nimport { Background } from \"components/common/Background/Background\";\r\nimport { CardHeader } from \"components/common/CardHeader/CardHeader\";\r\nimport ButtonSelectorNode from \"components/ButtonSelectorNode/ButtonSelectorNode\";\r\n\r\nimport \"./HomePage.scss\";\r\n\r\nconst nodeTypes = {\r\n  btnSelectorNode: ButtonSelectorNode\r\n};\r\n\r\nfunction HomePage() {\r\n  const [flow, setFlow] = useState({});\r\n  const [showDrawer, setShowDrawer] = useState(\"events\");\r\n  const [selectedNode, setSelectedNode] = useState(\"1\");\r\n  const [selectedAction, setSelectedAction] = useState({});\r\n  const [clickedAction, setClickedAction] = useState(null);\r\n\r\n  const initialElements = [\r\n    {\r\n      id: \"1\",\r\n      type: \"btnSelectorNode\",\r\n      data: {\r\n        label: \"When\",\r\n        type: \"event\",\r\n        btnLabel: \"Select event trigger\",\r\n        focusNodeAction: id => {\r\n          setShowDrawer(\"events\");\r\n          setSelectedNode(id);\r\n        },\r\n        btnAction: id => {\r\n          setShowDrawer(\"events\");\r\n          setSelectedNode(id);\r\n        }\r\n      },\r\n      position: { x: 250, y: 25 }\r\n    }\r\n  ];\r\n  const [elements, setElements] = useState(initialElements);\r\n  const onElementsRemove = elementsToRemove =>\r\n    setElements(els => removeElements(elementsToRemove, els));\r\n  const onConnect = params => setElements(els => addEdge(params, els));\r\n  const elementsStateRef = useRef();\r\n  elementsStateRef.current = elements;\r\n  const selectedNodeStateRef = useRef();\r\n  selectedNodeStateRef.current = selectedNode;\r\n  const selActionStateRef = useRef();\r\n  selActionStateRef.current = selectedAction;\r\n\r\n  const generateNextStepNodeObj = (nodeId, position) => {\r\n    return {\r\n      label: `Next Step`,\r\n      type: \"choice\",\r\n      btnLabel: \"Add condition\",\r\n      focusNodeAction: id => {\r\n        setShowDrawer(null);\r\n        setSelectedNode(id);\r\n      },\r\n      btnAction: id => {\r\n        setShowDrawer(\"conditions\");\r\n        setSelectedNode(id);\r\n\r\n        let tempElems = Object.assign([], elementsStateRef.current);\r\n        tempElems = tempElems.filter(\r\n          t =>\r\n            t.id !== nodeId &&\r\n            t.id !== `edges-${(Number(nodeId) - 1).toString()}-${nodeId}`\r\n        );\r\n        tempElems.push(\r\n          {\r\n            id: nodeId, // 2\r\n            type: \"btnSelectorNode\",\r\n            data: {\r\n              label: `If...`,\r\n              type: \"condition\",\r\n              btnLabel: \"Add condition\",\r\n              focusNodeAction: id => {\r\n                setShowDrawer(\"conditions\");\r\n                setSelectedNode(id);\r\n              },\r\n              btnAction: id => {\r\n                setShowDrawer(\"conditions\");\r\n                setSelectedNode(id);\r\n              }\r\n              // handleDeleteCondition: (nodeId, itemId) =>\r\n              //   handleDeleteCondition(nodeId, itemId)\r\n            },\r\n            position: position\r\n          },\r\n          {\r\n            id: (Number(nodeId) + 1).toString(), // 3\r\n            type: \"btnSelectorNode\",\r\n            data: {\r\n              label: `Then...`,\r\n              type: \"action-yes\",\r\n              btnLabel: \"Add action\",\r\n              focusNodeAction: id => {\r\n                setShowDrawer(\"actions\");\r\n                setSelectedNode(id);\r\n              },\r\n              btnAction: id => {\r\n                setShowDrawer(\"actions\");\r\n                setSelectedNode(id);\r\n              },\r\n              handleDeleteAction: itemIndex =>\r\n                handleDeleteAction(nodeId, itemIndex)\r\n            },\r\n            position: { x: position.x, y: position.y + 400 }\r\n          },\r\n          {\r\n            id: (Number(nodeId) + 2).toString(), // 4\r\n            type: \"btnSelectorNode\",\r\n            data: generateNextStepNodeObj((Number(nodeId) + 2).toString(), {\r\n              x: position.x + 300,\r\n              y: position.y + 150\r\n            }),\r\n            position: { x: position.x + 300, y: position.y + 150 }\r\n          },\r\n          ...(nodeId === \"2\"\r\n            ? [\r\n                {\r\n                  id: `edges-${(Number(nodeId) - 1).toString()}-${nodeId}`, // edges-1-2\r\n                  source: (Number(nodeId) - 1).toString(),\r\n                  target: nodeId,\r\n                  type: \"smoothstep\"\r\n                }\r\n              ]\r\n            : []),\r\n          {\r\n            id: `edges-${nodeId}-${(Number(nodeId) + 1).toString()}`, // edges-2-3\r\n            source: nodeId,\r\n            target: (Number(nodeId) + 1).toString(),\r\n            type: \"smoothstep\",\r\n            label: \"yes\"\r\n          },\r\n          {\r\n            id: `edges-${nodeId}-${(Number(nodeId) + 2).toString()}`, // edges-2-4\r\n            source: nodeId,\r\n            target: (Number(nodeId) + 2).toString(),\r\n            type: \"smoothstep\",\r\n            label: \"no\"\r\n          }\r\n        );\r\n        setElements(tempElems);\r\n      },\r\n      btnLabel2: \"Add Action\",\r\n      btnAction2: id => {\r\n        setShowDrawer(\"actions\");\r\n        setSelectedNode(id);\r\n\r\n        let tempElems = Object.assign([], elementsStateRef.current);\r\n        tempElems = tempElems.filter(\r\n          t =>\r\n            t.id !== nodeId &&\r\n            t.id !== `edges-${(Number(nodeId) - 1).toString()}-${nodeId}` // edges-1-2\r\n        );\r\n        tempElems.push(\r\n          {\r\n            id: nodeId,\r\n            type: \"btnSelectorNode\",\r\n            data: {\r\n              label: `Then...`,\r\n              type: \"action\",\r\n              btnLabel: \"Add action\",\r\n              focusNodeAction: id => {\r\n                setShowDrawer(\"actions\");\r\n                setSelectedNode(id);\r\n              },\r\n              btnAction: id => {\r\n                setShowDrawer(\"actions\");\r\n                setSelectedNode(id);\r\n              },\r\n              handleDeleteAction: itemIndex =>\r\n                handleDeleteAction(nodeId, itemIndex)\r\n            },\r\n            position: position\r\n          },\r\n          ...(nodeId === \"2\"\r\n            ? [\r\n                {\r\n                  id: `edges-${(Number(nodeId) - 1).toString()}-${nodeId}`, // edges-1-2\r\n                  source: (Number(nodeId) - 1).toString(),\r\n                  target: nodeId,\r\n                  type: \"smoothstep\"\r\n                }\r\n              ]\r\n            : [])\r\n        );\r\n\r\n        setElements(tempElems);\r\n      }\r\n      // handleDeleteCondition: (nodeId, itemId) =>\r\n      //   handleDeleteCondition(nodeId, itemId)\r\n    };\r\n  };\r\n\r\n  const handleEventChange = event => {\r\n    setFlow({ ...flow, eventKey: event.eventKey });\r\n    let tempElems = Object.assign([], elements);\r\n    tempElems[0] = {\r\n      id: \"1\",\r\n      type: \"btnSelectorNode\",\r\n      data: {\r\n        label: \"When\",\r\n        type: \"event\",\r\n        item: event,\r\n        focusNodeAction: id => {\r\n          setShowDrawer(\"events\");\r\n          setSelectedNode(id);\r\n        },\r\n        btnAction: id => {\r\n          setShowDrawer(\"events\");\r\n          setSelectedNode(id);\r\n        }\r\n      },\r\n      position: { x: 250, y: 25 }\r\n    };\r\n\r\n    if (tempElems.length === 1) {\r\n      tempElems.push(\r\n        {\r\n          id: \"2\",\r\n          type: \"btnSelectorNode\",\r\n          data: generateNextStepNodeObj(\"2\", { x: 250, y: 200 }),\r\n          position: { x: 250, y: 200 }\r\n        },\r\n        {\r\n          id: \"edges-1-2\",\r\n          source: \"1\",\r\n          target: \"2\",\r\n          type: \"smoothstep\"\r\n        }\r\n      );\r\n    }\r\n    setShowDrawer(null);\r\n    setElements(tempElems);\r\n  };\r\n\r\n  const handleConditionChange = conditionObj => {\r\n    // setSelectedCondition(prev => ({\r\n    //   ...prev,\r\n    //   [selectedNode]: [...(selectedCondition[selectedNode] || []), id]\r\n    // }));\r\n    let tempElems = Object.assign([], elements);\r\n    let tempElemIndex = tempElems.findIndex(t => t.id === selectedNode);\r\n    tempElems[tempElemIndex] = {\r\n      ...tempElems[tempElemIndex],\r\n      data: {\r\n        ...tempElems[tempElemIndex]?.data,\r\n        item: conditionObj\r\n      }\r\n    };\r\n    setElements(tempElems);\r\n  };\r\n\r\n  const handleActionChange = actionObj => {\r\n    let tempElems = Object.assign([], elements);\r\n    let tempElemIndex = tempElems.findIndex(t => t.id === selectedNode);\r\n    tempElems[tempElemIndex] = {\r\n      ...tempElems[tempElemIndex],\r\n      data: {\r\n        ...tempElems[tempElemIndex]?.data,\r\n        item: [...(tempElems[tempElemIndex]?.data?.item || []), actionObj]\r\n      }\r\n    };\r\n    setElements(tempElems);\r\n  };\r\n\r\n  const handleAddAction = () => {\r\n    setSelectedAction(prev => ({\r\n      ...prev,\r\n      [selectedNode]: [\r\n        ...(selectedAction[selectedNode] || []),\r\n        clickedAction.id\r\n      ]\r\n    }));\r\n    let tempElems = Object.assign([], elements);\r\n    let tempElemIndex = tempElems.findIndex(t => t.id === selectedNode);\r\n    tempElems[tempElemIndex] = {\r\n      ...tempElems[tempElemIndex],\r\n      data: {\r\n        ...tempElems[tempElemIndex]?.data,\r\n        actions: [\r\n          ...(tempElems[tempElemIndex]?.data?.actions || []),\r\n          clickedAction\r\n        ]\r\n      }\r\n    };\r\n    setElements(tempElems);\r\n  };\r\n\r\n  // const handleDeleteCondition = (nodeId, itemId) => {\r\n  //   let tempElems = Object.assign([], elementsStateRef.current);\r\n  //   let tempElemIndex = tempElems.findIndex(t => t.id === nodeId);\r\n  //   tempElems[tempElemIndex] = {\r\n  //     ...tempElems[tempElemIndex],\r\n  //     data: {\r\n  //       ...tempElems[tempElemIndex]?.data,\r\n  //       conditions: (tempElems[tempElemIndex]?.data?.conditions || []).filter(\r\n  //         t => t.id !== itemId\r\n  //       )\r\n  //     }\r\n  //   };\r\n  //   setSelectedCondition({\r\n  //     ...selConditionStateRef.current,\r\n  //     [selectedNodeStateRef.current]: (\r\n  //       selConditionStateRef.current[selectedNodeStateRef.current] || []\r\n  //     ).filter(c => c !== itemId)\r\n  //   });\r\n  //   setElements(tempElems);\r\n  // };\r\n\r\n  const handleDeleteAction = (nodeId, itemIndex) => {\r\n    let tempElems = Object.assign([], elementsStateRef.current);\r\n    (tempElems.find(el => el.id === nodeId).data?.item || []).splice(\r\n      itemIndex,\r\n      1\r\n    );\r\n    // setSelectedAction({\r\n    //   ...selActionStateRef.current,\r\n    //   [selectedNodeStateRef.current]: (\r\n    //     selActionStateRef.current[selectedNodeStateRef.current] || []\r\n    //   ).filter(a => a !== itemId)\r\n    // });\r\n    setElements(tempElems);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const nodes = elements.filter(el => el.type === \"btnSelectorNode\");\r\n    const outputArr = [];\r\n    nodes.forEach(node => {\r\n      switch (node.data.type) {\r\n        case \"event\":\r\n          outputArr.push({ event: node.data.event });\r\n          break;\r\n        case \"condition\":\r\n          outputArr.push({ condition: node.data.conditions });\r\n          break;\r\n        case \"action-yes\":\r\n        case \"action\":\r\n          outputArr.push({ [node.data.type]: [...(node.data.actions || [])] });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    console.log(\"output\", outputArr);\r\n  };\r\n\r\n  // Handle lose focus on node to hide drawer\r\n  const handleOnSelectionChange = e => {\r\n    if (!e) {\r\n      setShowDrawer(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Background fullHeight color=\"HomePage grey100\">\r\n      {showDrawer && (\r\n        <div className=\"drawer\">\r\n          {showDrawer === \"events\" && (\r\n            <Events\r\n              selectedEventKey={flow.eventKey}\r\n              handleSelect={handleEventChange}\r\n            />\r\n            // <Actions />\r\n            // <>\r\n            //   <CardHeader>\r\n            //     <Typography variant=\"h3\">Events</Typography>\r\n            //   </CardHeader>\r\n            //   <CardBody\r\n            //     type=\"events\"\r\n            //     nodeId={selectedNode}\r\n            //     listItems={EVENTS}\r\n            //     selectedId={selectedEvent}\r\n            //     handleSelect={handleEventChange}\r\n            //   />\r\n            // </>\r\n          )}\r\n\r\n          {showDrawer === \"conditions\" && (\r\n            <Conditions\r\n              selectedEventKey={flow.eventKey}\r\n              selectedConditionObj={\r\n                elements.find(el => el.id === selectedNodeStateRef.current)\r\n                  ?.data?.item || {}\r\n              }\r\n              handleSelect={handleConditionChange}\r\n            />\r\n            // <>\r\n            //   <CardHeader>\r\n            //     <Typography variant=\"h3\">Conditions</Typography>\r\n            //   </CardHeader>\r\n            //   <CardBody\r\n            //     type=\"conditions\"\r\n            //     nodeId={selectedNode}\r\n            //     listItems={CONDITIONS}\r\n            //     selectedId={selectedCondition}\r\n            //     handleSelect={handleConditionChange}\r\n            //   />\r\n            // </>\r\n          )}\r\n\r\n          {showDrawer === \"actions\" && (\r\n            <Actions\r\n              selectedActionObj={\r\n                elements.find(el => el.id === selectedNodeStateRef.current)\r\n                  ?.data?.item || {}\r\n              }\r\n              handleSelect={handleActionChange}\r\n            />\r\n            // <>\r\n            //   <CardHeader>\r\n            //     <Typography variant=\"h3\">Actions</Typography>\r\n            //   </CardHeader>\r\n            //   <CardBody\r\n            //     type=\"actions\"\r\n            //     nodeId={selectedNode}\r\n            //     listItems={ACTIONS}\r\n            //     selectedId={selectedAction}\r\n            //     onFocusId={clickedAction?.id}\r\n            //     handleSelect={handleActionChange}\r\n            //   />\r\n            //   {clickedAction && (\r\n            //     <>\r\n            //       <CardHeader>\r\n            //         <Typography variant=\"h3\">Action Details</Typography>\r\n            //       </CardHeader>\r\n            //       <div className=\"card-body\">\r\n            //         <TextField\r\n            //           fullWidth\r\n            //           margin=\"dense\"\r\n            //           onChange={e =>\r\n            //             setClickedAction(prev => ({\r\n            //               ...prev,\r\n            //               value: e.target.value\r\n            //             }))\r\n            //           }\r\n            //           type={clickedAction.type}\r\n            //           value={clickedAction.value || \"\"}\r\n            //           label={clickedAction.label}\r\n            //         />\r\n            //         <Button\r\n            //           variant=\"text\"\r\n            //           disableRipple\r\n            //           onClick={handleAddAction}\r\n            //         >\r\n            //           Add\r\n            //         </Button>\r\n            //       </div>\r\n            //     </>\r\n            //   )}\r\n            // </>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"home-section\">\r\n        <CardHeader handleSave={handleSave}>\r\n          <Typography variant=\"h3\">Map your automation</Typography>\r\n        </CardHeader>\r\n        <div className=\"flow-body\">\r\n          <ReactFlow\r\n            elementsSelectable={true}\r\n            elements={elements}\r\n            onElementsRemove={onElementsRemove}\r\n            onConnect={onConnect}\r\n            nodeTypes={nodeTypes}\r\n            // deleteKeyCode={46} /* 'delete'-key */\r\n            onSelectionChange={handleOnSelectionChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Background>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"sourceRoot":""}