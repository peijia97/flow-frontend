(this["webpackJsonpflow-frontend"]=this["webpackJsonpflow-frontend"]||[]).push([[4],{118:function(e,t,n){},121:function(e,t,n){},125:function(e,t,n){},127:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var c=n(18),a=n(129),i=n(108),o=n(1),d=n.n(o),s=n(109),r=n(136),l=n(38),b=n(39),j=n(119),u=n.n(j),O=n(134),h=(n(118),n(8)),f=function(e){var t=e.children,n=Object(b.a)(e,["children"]);return Object(h.jsxs)("div",Object(c.a)(Object(c.a)({className:"CardHeader"},n),{},{children:[t,Object(h.jsx)(O.a,{disableRipple:!0,children:Object(h.jsx)(u.a,{})})]}))},v=n(135),m=n(122),x=n.n(m),p=n(123),g=n.n(p),y=n(124),N=n.n(y),C=(n(121),function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=n[0],d=n[1],s=e.listItems,r=e.selectedId,l=e.handleSelect,j=Object(b.a)(e,["listItems","selectedId","handleSelect"]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",Object(c.a)(Object(c.a)({className:"CardBody ".concat(s.length>3?"has-show-more":""," ").concat(a?"show-all":"")},j),{},{children:s.filter((function(e){return!r.includes(e.id)})).map((function(e){return Object(h.jsx)(v.a,{onClick:function(){return l(e.id)},disableRipple:!0,variant:"text",className:"btn-card-item",startIcon:Object(h.jsx)(x.a,{}),children:e.name},e.id)}))})),s.length>3&&Object(h.jsx)("div",{className:"btn-show-more",children:Object(h.jsxs)(v.a,{onClick:function(){return d(!a)},variant:"text",disableRipple:!0,endIcon:a?Object(h.jsx)(g.a,{}):Object(h.jsx)(N.a,{}),children:["Show ",a?"less":"more"]})})]})}),S=n(126),A=n.n(S),I=(n(125),Object(o.memo)((function(e){var t,n,c=e.data,a=e.isConnectable;return Object(h.jsxs)("div",{className:"ButtonSelectorNode",children:[Object(h.jsx)("div",{children:Object(h.jsx)(r.a,{variant:"body1",children:c.label})}),c.eventLabel&&Object(h.jsx)(v.a,{variant:"contained",disabled:!0,className:"lbl-event",children:c.eventLabel}),(null===(t=c.conditions)||void 0===t?void 0:t.length)>0&&c.conditions.map((function(e,t){return Object(h.jsx)(d.a.Fragment,{children:Object(h.jsxs)("div",{className:"label-div",children:[Object(h.jsx)(v.a,{variant:"contained",disabled:!0,className:"lbl-condition",children:e.name}),Object(h.jsx)(O.a,{disableRipple:!0,onClick:function(){return c.handleDeleteCondition(e.id)},children:Object(h.jsx)(A.a,{})}),t!==c.conditions.length-1&&Object(h.jsx)(r.a,{variant:"h6",children:"AND"})]})},e.id)})),(null===(n=c.actions)||void 0===n?void 0:n.length)>0&&c.actions.map((function(e,t){return Object(h.jsx)(d.a.Fragment,{children:Object(h.jsxs)("div",{className:"label-div",children:[Object(h.jsx)(v.a,{variant:"contained",disabled:!0,className:"lbl-action",children:e.name}),Object(h.jsx)(O.a,{disableRipple:!0,onClick:function(){return c.handleDeleteAction(e.id)},children:Object(h.jsx)(A.a,{})}),t!==c.actions.length-1&&Object(h.jsx)(r.a,{variant:"h6",children:"AND"})]})},e.id)})),c.btnLabel&&Object(h.jsx)(v.a,{onClick:function(){return c.btnAction()},variant:"contained",children:c.btnLabel}),c.btnLabel2&&Object(h.jsx)(v.a,{onClick:function(){return c.btnAction2()},variant:"contained",children:c.btnLabel2}),Object(h.jsx)(s.a,{type:"source",position:"bottom",style:{bottom:10,top:"auto",background:"#555"},isConnectable:a})]})}))),w=(n(127),[{id:1,name:"New order placed"},{id:2,name:"New signup"},{id:3,name:"New subscriber"},{id:4,name:"New cancellation"}]),L=[{id:1,name:"Amount > 100"},{id:2,name:"Amount < 100"},{id:3,name:"Product is Coffee"},{id:4,name:"Product is Tea"},{id:5,name:"Date > Today"},{id:6,name:"Date < Today"}],D=[{id:1,name:"Send email to Contact"},{id:2,name:"Add tag to Contact"},{id:3,name:"Call Contact"},{id:4,name:"Cancel Contact"},{id:5,name:"Delete Contact"}],k={btnSelectorNode:I};t.default=function(){var e=Object(o.useState)("events"),t=Object(i.a)(e,2),n=t[0],d=t[1],b=Object(o.useState)("1"),j=Object(i.a)(b,2),u=j[0],O=j[1],v=Object(o.useState)([]),m=Object(i.a)(v,2),x=m[0],p=m[1],g=Object(o.useState)([]),y=Object(i.a)(g,2),N=y[0],S=y[1],A=Object(o.useState)([]),I=Object(i.a)(A,2),R=I[0],F=I[1],T=[{id:"1",type:"btnSelectorNode",data:{label:"When",type:"event",btnLabel:"Select event trigger",btnAction:function(){return d("events")}},position:{x:250,y:25}}],H=Object(o.useState)(T),P=Object(i.a)(H,2),B=P[0],E=P[1],J=Object(o.useRef)();J.current=B;var W=Object(o.useRef)();W.current=N;var K=Object(o.useRef)();K.current=N;var M=function(e,t){var n,a=Object.assign([],J.current),i=a.findIndex((function(t){return t.id===e}));a[i]=Object(c.a)(Object(c.a)({},a[i]),{},{data:Object(c.a)(Object(c.a)({},a[i].data),{},{conditions:((null===(n=a[i].data)||void 0===n?void 0:n.conditions)||[]).filter((function(e){return e.id!==t}))})}),S(W.current.filter((function(e){return e!==t}))),E(a)},q=function(e,t){var n,a=Object.assign([],J.current),i=a.findIndex((function(t){return t.id===e}));a[i]=Object(c.a)(Object(c.a)({},a[i]),{},{data:Object(c.a)(Object(c.a)({},a[i].data),{},{actions:((null===(n=a[i].data)||void 0===n?void 0:n.actions)||[]).filter((function(e){return e.id!==t}))})}),F(K.current.filter((function(e){return e!==t}))),E(a)};return Object(h.jsxs)(l.a,{fullHeight:!0,color:"HomePage grey100",children:[Object(h.jsxs)("div",{className:"drawer",children:["events"===n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{children:Object(h.jsx)(r.a,{variant:"h3",children:"Events"})}),Object(h.jsx)(C,{listItems:w,selectedId:x,handleSelect:function(e){p([e]);var t=Object.assign([],B);t[0]={id:"1",type:"btnSelectorNode",data:{label:"When",type:"event",eventLabel:w.find((function(t){return t.id===e})).name,btnLabel:"Select event trigger",btnAction:function(){d("events"),O("1")}},position:{x:250,y:25}},1===t.length&&t.push({id:"2",type:"btnSelectorNode",data:{label:"If...",type:"condition",btnLabel:"Add condition",btnAction:function(){d("conditions"),O("2")},handleDeleteCondition:function(e){return M("2",e)}},position:{x:250,y:200}},{id:"3",type:"btnSelectorNode",data:{label:"Then...",type:"condition",btnLabel2:"Add action",btnAction2:function(){d("actions"),O("3")},handleDeleteAction:function(e){return q("3",e)}},position:{x:250,y:600}},{id:"4",type:"btnSelectorNode",data:{label:"Then...",type:"condition",btnLabel2:"Add action",btnAction2:function(){d("actions"),O("4")},handleDeleteAction:function(e){return q("4",e)}},position:{x:500,y:350}},{id:"edges-1-2",source:"1",target:"2",type:"smoothstep"},{id:"edges-2-3",source:"2",target:"3",type:"smoothstep",label:"yes"},{id:"edges-2-4",source:"2",target:"4",type:"smoothstep",label:"no"}),E(t)}})]}),"conditions"===n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{children:Object(h.jsx)(r.a,{variant:"h3",children:"Conditions"})}),Object(h.jsx)(C,{listItems:L,selectedId:N,handleSelect:function(e){var t;S([].concat(Object(a.a)(N),[e]));var n=Object.assign([],B),i=n.findIndex((function(e){return e.id===u}));n[i]=Object(c.a)(Object(c.a)({},n[i]),{},{data:Object(c.a)(Object(c.a)({},n[i].data),{},{conditions:[].concat(Object(a.a)((null===(t=n[i].data)||void 0===t?void 0:t.conditions)||[]),[L.find((function(t){return t.id===e}))])})}),E(n)}})]}),"actions"===n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{children:Object(h.jsx)(r.a,{variant:"h3",children:"Actions"})}),Object(h.jsx)(C,{listItems:D,selectedId:R,handleSelect:function(e){var t;F([].concat(Object(a.a)(R),[e]));var n=Object.assign([],B),i=n.findIndex((function(e){return e.id===u}));n[i]=Object(c.a)(Object(c.a)({},n[i]),{},{data:Object(c.a)(Object(c.a)({},n[i].data),{},{actions:[].concat(Object(a.a)((null===(t=n[i].data)||void 0===t?void 0:t.actions)||[]),[D.find((function(t){return t.id===e}))])})}),E(n)}})]})]}),Object(h.jsxs)("div",{className:"home-section",children:[Object(h.jsx)(f,{children:Object(h.jsx)(r.a,{variant:"h3",children:"Map your automation"})}),Object(h.jsx)("div",{className:"flow-body",children:Object(h.jsx)(s.c,{elements:B,onElementsRemove:function(e){return E((function(t){return Object(s.d)(e,t)}))},onConnect:function(e){return E((function(t){return Object(s.b)(e,t)}))},nodeTypes:k,deleteKeyCode:46})})]})]})}}}]);
//# sourceMappingURL=4.d3e8a4a7.chunk.js.map