(this["webpackJsonpflow-frontend"]=this["webpackJsonpflow-frontend"]||[]).push([[4],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(18),c=n(39),i=(n(1),n(148)),o=n.n(i),l=n(184),s=n(183),r=n(2),d=(n(124),n(8)),u=function(e){var t=e.handleSave,n=e.hasPreviewButton,i=e.children,u=Object(c.a)(e,["handleSave","hasPreviewButton","children"]),b=Object(r.g)();return Object(d.jsxs)("div",Object(a.a)(Object(a.a)({className:"CardHeader"},u),{},{children:[Object(d.jsxs)("div",{className:"left-section",children:[i,Object(d.jsx)(s.a,{disableRipple:!0,children:Object(d.jsx)(o.a,{})})]}),Object(d.jsxs)("div",{className:"d-flex",children:[n&&Object(d.jsx)(l.a,{variant:"text",className:"btn-preview",onClick:function(){b.push({pathname:"/preview"})},children:"Go to Preview"}),t&&Object(d.jsx)(l.a,{variant:"contained",onClick:t,children:"Save"})]})]}))}},113:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return s}));var a=[{id:1,name:"New order placed"},{id:2,name:"New signup"},{id:3,name:"New subscriber"},{id:4,name:"New cancellation"}],c=[{id:1,name:"Amount > 100"},{id:2,name:"Amount < 100"},{id:3,name:"Product is Coffee"},{id:4,name:"Product is Tea"},{id:5,name:"Date > Today"},{id:6,name:"Date < Today"}],i=[{id:1,name:"Send email to Contact",type:"email",label:"Email address"},{id:2,name:"Call Contact",type:"tel",label:"Contact Number"},{id:3,name:"Add Tag to Contact",type:"tel",label:"Contact Number"},{id:4,name:"Remove Contact",type:"tel",label:"Contact Number"}],o=[{eventKey:"NewOrder",eventDisplay:"New order placed",fields:[{conditionKey:"ProductTitle",conditionDisplay:"Product Title",type:"string"},{conditionKey:"ProductAmount",conditionDisplay:"Product Amount",type:"int"}]},{eventKey:"NewSignup",eventDisplay:"New signup",fields:[{conditionKey:"Gender",conditionDisplay:"Customer Gender",type:"option",options:["Male","Female"]},{conditionKey:"DOB",conditionDisplay:"Birthday",type:"date"}]}],l=[{actionKey:"SendEmail",actionDisplay:"Send email to contact",fields:[{key:"emailAddress",placeHolder:"Email Address",type:"string"}]},{actionKey:"CallContact",actionDisplay:"Call contact",fields:[{key:"callContact",placeHolder:"Contact Number",type:"string"},{key:"callContactCountry",placeHolder:"Country",type:"selection",option:["Singapore","Malaysia"]}]}],s=[{name:"Equal",value:"=",type:"string"},{name:"Not equal",value:"!=",type:"string"},{name:"Contains",value:"contains",type:"string"},{name:"Not contains",value:"not contains",type:"string"},{name:"Greater than",value:">",type:"int"},{name:"Less than",value:"<",type:"int"},{name:"Greater and equal than",value:">=",type:"int"},{name:"Less and equal than",value:"<=",type:"int"},{name:"Equal",value:"=",type:"date"},{name:"Earlier than",value:"earlier than",type:"date"},{name:"Later than",value:"later than",type:"date"}]},124:function(e,t,n){},132:function(e,t,n){"use strict";var a=n(1),c=n.n(a),i=n(121),o=n(185),l=n(184),s=n(150),r=n.n(s),d=n(183),u=(n(133),n(8));t.a=Object(a.memo)((function(e){var t,n=e.id,a=e.data,s=e.isConnectable,b=Object(i.e)((function(e){return e.selectedElements}));return Object(u.jsxs)("div",{className:"ButtonSelectorNode ".concat(b&&b[0].id===n?"is-selected":""),onClick:function(){return a.focusNodeAction(n)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(o.a,{variant:"body1",children:a.label})}),"event"===a.type&&(a.item?Object(u.jsx)(l.a,{variant:"contained",disabled:!0,className:"lbl-event",children:null===(t=a.item)||void 0===t?void 0:t.eventDisplay}):a.btnLabel&&Object(u.jsx)(l.a,{onClick:function(e){a.btnAction(n),e.stopPropagation()},variant:"contained",children:a.btnLabel})),("condition"===a.type||"choice"===a.type)&&(a.item?Object(u.jsx)(l.a,{variant:"contained",disabled:!0,className:"lbl-condition",children:Object.keys(a.item)[0].includes("Fn::")?Object.values(a.item)[0].map((function(e){return"".concat(e.conditionKey," ").concat(e.operator," ").concat(e.value.join(", "))})).join(" ".concat(Object.keys(a.item)[0].replace("Fn::","")," ")):"".concat(a.item.conditionKey," ").concat(a.item.operator," ").concat(a.item.value.join(", "))}):a.btnLabel&&Object(u.jsx)(l.a,{onClick:function(e){a.btnAction(n),e.stopPropagation()},variant:"contained",children:a.btnLabel})),a.type.includes("action")&&(a.item?a.item.map((function(e,t){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"label-div",children:[Object(u.jsx)(l.a,{variant:"contained",disabled:!0,className:"lbl-action",children:"Action: ".concat(e.actionKey,"\n                    ").concat(e.actionInputs.map((function(e){return"".concat(e.key," - ").concat(e.value)})).join(", "))}),Object(u.jsx)(d.a,{disableRipple:!0,onClick:function(){return a.handleDeleteAction(t)},children:Object(u.jsx)(r.a,{})}),t!==a.item.length-1&&Object(u.jsx)(o.a,{variant:"h6",children:"AND"})]})},t)})):a.btnLabel&&Object(u.jsx)(l.a,{onClick:function(e){a.btnAction(n),e.stopPropagation()},variant:"contained",children:a.btnLabel})),"choice"===a.type&&Object(u.jsx)(o.a,{variant:"h6",className:"text-or",children:"OR"}),a.btnLabel2&&Object(u.jsx)(l.a,{onClick:function(e){a.btnAction2(n),e.stopPropagation()},variant:"contained",children:a.btnLabel2}),Object(u.jsx)(i.a,{type:"source",position:"bottom",style:{bottom:10,top:"auto",background:"#555"},isConnectable:s})]})}))},133:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){"use strict";var a=n(15),c=n(107);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(1)),o=(0,a(n(108)).default)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=o},163:function(e,t,n){},164:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var a=n(40),c=n(18),i=n(134),o=n(110),l=n(1),s=n.n(l),r=n(121),d=n(185),u=n(39),b=n(184),j=n(106),v=n(120),p=n.n(v),m=n(127),O=n.n(m),f=n(128),h=n.n(f),y=n(113),x=(n(159),n(8)),g=function(e){var t=e.handleSelect,n=e.selectedEventKey,a=Object(u.a)(e,["handleSelect","selectedEventKey"]),i=Object(l.useState)(!1),s=Object(o.a)(i,2),r=s[0],v=s[1];return Object(x.jsxs)("div",Object(c.a)(Object(c.a)({className:"Events"},a),{},{children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(d.a,{variant:"h3",children:"Events"})}),Object(x.jsx)("div",Object(c.a)(Object(c.a)({className:"content-body ".concat(y.f.length>3?"has-show-more":""," ").concat(r?"show-all":"")},a),{},{children:y.f.map((function(e){return Object(x.jsx)(b.a,{onClick:function(){return t(e)},disableRipple:!0,variant:"text",className:"btn-card-item ".concat(n===e.eventKey?"on-focus":""),startIcon:Object(x.jsx)(p.a,{}),children:e.eventDisplay},e.eventKey)}))})),y.f.length>3&&Object(x.jsx)("div",{className:"btn-show-more",children:Object(x.jsxs)(b.a,{onClick:function(){return v(!r)},variant:"text",disableRipple:!0,endIcon:r?Object(x.jsx)(O.a,{}):Object(x.jsx)(h.a,{}),children:["Show ",r?"less":"more"]})})]}))},N=n(189),C=n(197),S=n(4),A=n(12),k=n(0),K=(n(3),n(30)),w=n(36),I=n(192),E=n(118),D=n(101),L=n(149),R=n(38),P="undefined"===typeof window?l.useEffect:l.useLayoutEffect,F=l.forwardRef((function(e,t){var n=e.alignItems,a=void 0===n?"center":n,c=e.autoFocus,i=void 0!==c&&c,o=e.button,s=void 0!==o&&o,r=e.children,d=e.classes,u=e.className,b=e.component,j=e.ContainerComponent,v=void 0===j?"li":j,p=e.ContainerProps,m=(p=void 0===p?{}:p).className,O=Object(S.a)(p,["className"]),f=e.dense,h=void 0!==f&&f,y=e.disabled,x=void 0!==y&&y,g=e.disableGutters,N=void 0!==g&&g,C=e.divider,A=void 0!==C&&C,w=e.focusVisibleClassName,F=e.selected,H=void 0!==F&&F,T=Object(S.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),G=l.useContext(L.a),B={dense:h||G.dense||!1,alignItems:a},M=l.useRef(null);P((function(){i&&M.current&&M.current.focus()}),[i]);var V=l.Children.toArray(r),q=V.length&&Object(E.a)(V[V.length-1],["ListItemSecondaryAction"]),W=l.useCallback((function(e){M.current=R.findDOMNode(e)}),[]),$=Object(D.a)(W,t),z=Object(k.a)({className:Object(K.a)(d.root,u,B.dense&&d.dense,!N&&d.gutters,A&&d.divider,x&&d.disabled,s&&d.button,"center"!==a&&d.alignItemsFlexStart,q&&d.secondaryAction,H&&d.selected),disabled:x},T),J=b||"li";return s&&(z.component=b||"div",z.focusVisibleClassName=Object(K.a)(d.focusVisible,w),J=I.a),q?(J=z.component||b?J:"div","li"===v&&("li"===J?J="div":"li"===z.component&&(z.component="div")),l.createElement(L.a.Provider,{value:B},l.createElement(v,Object(k.a)({className:Object(K.a)(d.container,m),ref:$},O),l.createElement(J,z,V),V.pop()))):l.createElement(L.a.Provider,{value:B},l.createElement(J,Object(k.a)({ref:$},z),V))})),H=Object(w.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(F),T=l.forwardRef((function(e,t){var n,a=e.classes,c=e.className,i=e.component,o=void 0===i?"li":i,s=e.disableGutters,r=void 0!==s&&s,d=e.ListItemClasses,u=e.role,b=void 0===u?"menuitem":u,j=e.selected,v=e.tabIndex,p=Object(S.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==v?v:-1),l.createElement(H,Object(k.a)({button:!0,role:b,tabIndex:n,component:o,selected:j,disableGutters:r,classes:Object(k.a)({dense:a.dense},d),className:Object(K.a)(a.root,c,j&&a.selected,!r&&a.gutters),ref:t},p))})),G=Object(w.a)((function(e){return{root:Object(k.a)({},e.typography.body1,Object(A.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(k.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(T),B=n(186),M=n(190),V=n(191),q=n(162),W=n.n(q),$=(n(160),function(e){var t=e.selectedEventKey,n=e.selectedConditionObj,r=e.handleSelect,v=Object(u.a)(e,["selectedEventKey","selectedConditionObj","handleSelect"]);Object(l.useEffect)((function(){var e,t;w((null===(e=Object.keys(n)[0])||void 0===e?void 0:e.includes("Fn::"))?Object.values(n)[0]:[{conditionKey:n.conditionKey||"",value:n.value||[],operator:n.operator||""}]),S((null===(t=Object.keys(n)[0])||void 0===t?void 0:t.includes("Fn::"))?Object.keys(n)[0]:"")}),[n]);var m={conditionKey:"",value:[],operator:""},O=y.f.find((function(e){return e.eventKey===t})).fields,f=Object(l.useState)(""),h=Object(o.a)(f,2),g=h[0],S=h[1],A=Object(l.useState)([{conditionKey:"",value:[],operator:""}]),k=Object(o.a)(A,2),K=k[0],w=k[1],I=function(e,t,n){var a=Object.assign([],K);"value"===n?a[t].value=e.split(","):a[t][n]=e,w(a)};return Object(x.jsxs)("div",Object(c.a)(Object(c.a)({className:"Conditions"},v),{},{children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(d.a,{variant:"h3",children:"Conditions"})}),Object(x.jsxs)("div",Object(c.a)(Object(c.a)({className:"content-body"},v),{},{children:[K.length>1&&Object(x.jsxs)(B.a,{className:"mb-1-5",children:[Object(x.jsx)(C.a,{id:"label-must-meet",children:"All conditions must meet"}),Object(x.jsxs)(V.a,{labelId:"label-must-meet",id:"must-meet",value:g,onChange:function(e){return S(e.target.value)},children:[Object(x.jsx)(G,{value:"Fn::And",children:"AND"}),Object(x.jsx)(G,{value:"Fn::Or",children:"OR"})]})]}),K.map((function(e,t){var n,a;return Object(x.jsxs)(s.a.Fragment,{children:[0!==t&&Object(x.jsx)(b.a,{className:"btn-clear",variant:"text",startIcon:Object(x.jsx)(W.a,{}),disableRipple:!0,onClick:function(){return function(e){2===K.length&&S("");var t=Object.assign([],K);t.splice(e,1),w(t)}(t)},children:"Remove"}),Object(x.jsxs)(B.a,{children:[Object(x.jsxs)(C.a,{id:"label-condition-".concat(t),children:["Condition ",t+1]}),Object(x.jsx)(V.a,{labelId:"label-condition-".concat(t),id:"condition-".concat(t),value:e.conditionKey||"",onChange:function(e){return I(e.target.value,t,"conditionKey")},children:O.map((function(e){return Object(x.jsx)(G,{value:e.conditionKey,children:e.conditionDisplay},e.conditionKey)}))})]}),Object(x.jsxs)(B.a,{children:[Object(x.jsxs)(C.a,{id:"label-operator-".concat(t),children:["Operator ",t+1]}),Object(x.jsx)(V.a,{labelId:"label-operator-".concat(t),id:"operator-".concat(t),value:e.operator||"",onChange:function(e){return I(e.target.value,t,"operator")},children:"option"===(null===(n=O.find((function(t){return t.conditionKey===e.conditionKey})))||void 0===n?void 0:n.type)?O.find((function(t){return t.conditionKey===e.conditionKey})).options.map((function(e){return Object(x.jsx)(G,{value:e,children:e},e)})):null===(a=y.c.filter((function(t){var n;return t.type===(null===(n=O.find((function(t){return t.conditionKey===e.conditionKey})))||void 0===n?void 0:n.type)})))||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(G,{value:e.value,children:e.name},e.value)}))})]}),Object(x.jsxs)(B.a,{children:[Object(x.jsx)(N.a,{fullWidth:!0,margin:"dense",onChange:function(e){return I(e.target.value,t,"value")},type:"text",value:e.value.join(",")||"",label:"Value ".concat(t+1)}),Object(x.jsx)(M.a,{children:"Please separate multiple values by comma"})]}),K.length-1!==t&&Object(x.jsx)(d.a,{variant:"h6",className:"must-meet-separator",children:"Fn::And"===g?"AND":"OR"})]},t)})),Object(x.jsx)(b.a,{variant:"text",startIcon:Object(x.jsx)(p.a,{}),disableRipple:!0,className:"btn-add",onClick:function(){g||S("Fn::And"),w([].concat(Object(i.a)(K),[m]))},children:"Add Condition"}),Object(x.jsx)(b.a,{variant:"contained",disableRipple:!0,onClick:function(){var e=g?Object(a.a)({},g,K):K[0];r(e)},children:"Save Condition"})]}))]}))}),z=(n(163),function(e){var t=e.handleSelect,n=(e.handleAddAction,e.selectedActionObj),a=Object(u.a)(e,["handleSelect","handleAddAction","selectedActionObj"]);Object(l.useEffect)((function(){m(i(n))}),[n]);var i=function(e){var t,n=y.e.find((function(t){return t.actionKey===e.actionKey}))||{};return null===(t=n.fields)||void 0===t||t.forEach((function(t){var n;t.value=null===(n=e.actionInputs.find((function(e){return e.key===t.key})))||void 0===n?void 0:n.value})),n},s=Object(l.useState)({}),r=Object(o.a)(s,2),v=r[0],m=r[1],f=Object(l.useState)(!1),g=Object(o.a)(f,2),S=g[0],A=g[1],k=function(e,t){var n=Object.assign({},v),a=v.fields.findIndex((function(e){return e.key===t.key}));n.fields[a].value=e.target.value,m(n)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",Object(c.a)(Object(c.a)({className:"Actions"},a),{},{children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(d.a,{variant:"h3",children:"Actions"})}),Object(x.jsx)("div",Object(c.a)(Object(c.a)({className:"content-body ".concat(y.e.length>3?"has-show-more":""," ").concat(S?"show-all":"")},a),{},{children:y.e.map((function(e){return Object(x.jsx)(b.a,{onClick:function(){m(e)},disableRipple:!0,variant:"text",className:"btn-card-item ".concat((null===v||void 0===v?void 0:v.actionKey)===e.actionKey?"on-focus":""),startIcon:Object(x.jsx)(p.a,{}),children:e.actionDisplay},e.actionKey)}))})),y.e.length>3&&Object(x.jsx)("div",{className:"btn-show-more",children:Object(x.jsxs)(b.a,{onClick:function(){return A(!S)},variant:"text",disableRipple:!0,endIcon:S?Object(x.jsx)(O.a,{}):Object(x.jsx)(h.a,{}),children:["Show ",S?"less":"more"]})})]})),Object.keys(v).length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(d.a,{variant:"h3",children:"Action Details"})}),Object(x.jsxs)("div",{className:"card-body",children:[v.fields.map((function(e){return"selection"===e.type?Object(x.jsxs)(B.a,{children:[Object(x.jsx)(C.a,{id:"label-".concat(e.key),children:e.placeHolder}),Object(x.jsx)(V.a,{labelId:"label-".concat(e.key),id:e.key,value:e.value||"",onChange:function(t){return k(t,e)},children:e.option.map((function(e){return Object(x.jsx)(G,{value:e,children:e},e)}))})]},e.key):Object(x.jsx)(N.a,{fullWidth:!0,margin:"dense",onChange:function(t){return k(t,e)},type:"text",value:e.value||"",label:e.placeHolder,placeholder:e.placeHolder},e.key)})),Object(x.jsx)(b.a,{variant:"text",disableRipple:!0,onClick:function(){var e={actionKey:v.actionKey,actionInputs:v.fields.map((function(e){return{key:e.key,value:e.value}}))};t(e)},children:"Add"})]})]})]})}),J=n(41),_=n(132),Q=(n(164),{btnSelectorNode:_.a});t.default=function(){var e,t,n,s,u=Object(l.useState)({}),b=Object(o.a)(u,2),v=b[0],p=b[1],m=Object(l.useState)("events"),O=Object(o.a)(m,2),f=O[0],h=O[1],y=Object(l.useState)("1"),N=Object(o.a)(y,2),C=N[0],S=N[1],A=Object(l.useState)({}),k=Object(o.a)(A,2),K=k[0],w=(k[1],Object(l.useState)(null)),I=Object(o.a)(w,2),E=(I[0],I[1],[{id:"1",type:"btnSelectorNode",data:{label:"When",type:"event",btnLabel:"Select event trigger",focusNodeAction:function(e){h("events"),S(e)},btnAction:function(e){h("events"),S(e)}},position:{x:250,y:25}}]),D=Object(l.useState)(E),L=Object(o.a)(D,2),R=L[0],P=L[1],F=Object(l.useRef)();F.current=R;var H=Object(l.useRef)();H.current=C,Object(l.useRef)().current=K;var T=function e(t,n){return{label:"Next Step",type:"choice",btnLabel:"Add condition",focusNodeAction:function(e){h(null),S(e)},btnAction:function(a){var c;h("conditions"),S(a);var o=Object.assign([],F.current);(c=o=o.filter((function(e){return e.id!==t&&e.id!=="edges-".concat((Number(t)-1).toString(),"-").concat(t)}))).push.apply(c,[{id:t,type:"btnSelectorNode",data:{label:"If...",type:"condition",btnLabel:"Add condition",focusNodeAction:function(e){h("conditions"),S(e)},btnAction:function(e){h("conditions"),S(e)}},position:n},{id:(Number(t)+1).toString(),type:"btnSelectorNode",data:{label:"Then...",type:"action-yes",btnLabel:"Add action",focusNodeAction:function(e){h("actions"),S(e)},btnAction:function(e){h("actions"),S(e)},handleDeleteAction:function(e){return G(t,e)}},position:{x:n.x,y:n.y+400}},{id:(Number(t)+2).toString(),type:"btnSelectorNode",data:e((Number(t)+2).toString(),{x:n.x+300,y:n.y+150}),position:{x:n.x+300,y:n.y+150}}].concat(Object(i.a)("2"===t?[{id:"edges-".concat((Number(t)-1).toString(),"-").concat(t),source:(Number(t)-1).toString(),target:t,type:"smoothstep"}]:[]),[{id:"edges-".concat(t,"-").concat((Number(t)+1).toString()),source:t,target:(Number(t)+1).toString(),type:"smoothstep",label:"yes"},{id:"edges-".concat(t,"-").concat((Number(t)+2).toString()),source:t,target:(Number(t)+2).toString(),type:"smoothstep",label:"no"}])),P(o)},btnLabel2:"Add Action",btnAction2:function(e){var a;h("actions"),S(e);var c=Object.assign([],F.current);(a=c=c.filter((function(e){return e.id!==t&&e.id!=="edges-".concat((Number(t)-1).toString(),"-").concat(t)}))).push.apply(a,[{id:t,type:"btnSelectorNode",data:{label:"Then...",type:"action",btnLabel:"Add action",focusNodeAction:function(e){h("actions"),S(e)},btnAction:function(e){h("actions"),S(e)},handleDeleteAction:function(e){return G(t,e)}},position:n}].concat(Object(i.a)("2"===t?[{id:"edges-".concat((Number(t)-1).toString(),"-").concat(t),source:(Number(t)-1).toString(),target:t,type:"smoothstep"}]:[]))),P(c)}}},G=function(e,t){var n,a=Object.assign([],F.current);((null===(n=a.find((function(t){return t.id===e})).data)||void 0===n?void 0:n.item)||[]).splice(t,1),P(a)};return Object(x.jsxs)(J.a,{fullHeight:!0,color:"HomePage grey100",children:[f&&Object(x.jsxs)("div",{className:"drawer",children:["events"===f&&Object(x.jsx)(g,{selectedEventKey:v.eventKey,handleSelect:function(e){p(Object(c.a)(Object(c.a)({},v),{},{eventKey:e.eventKey}));var t=Object.assign([],R);t[0]={id:"1",type:"btnSelectorNode",data:{label:"When",type:"event",item:e,focusNodeAction:function(e){h("events"),S(e)},btnAction:function(e){h("events"),S(e)}},position:{x:250,y:25}},1===t.length&&t.push({id:"2",type:"btnSelectorNode",data:T("2",{x:250,y:200}),position:{x:250,y:200}},{id:"edges-1-2",source:"1",target:"2",type:"smoothstep"}),h(null),P(t)}}),"conditions"===f&&Object(x.jsx)($,{selectedEventKey:v.eventKey,selectedConditionObj:(null===(e=R.find((function(e){return e.id===H.current})))||void 0===e||null===(t=e.data)||void 0===t?void 0:t.item)||{},handleSelect:function(e){var t,n=Object.assign([],R),a=n.findIndex((function(e){return e.id===C}));n[a]=Object(c.a)(Object(c.a)({},n[a]),{},{data:Object(c.a)(Object(c.a)({},null===(t=n[a])||void 0===t?void 0:t.data),{},{item:e})}),P(n)}}),"actions"===f&&Object(x.jsx)(z,{selectedActionObj:(null===(n=R.find((function(e){return e.id===H.current})))||void 0===n||null===(s=n.data)||void 0===s?void 0:s.item)||{},handleSelect:function(e){var t,n,a,o=Object.assign([],R),l=o.findIndex((function(e){return e.id===C}));o[l]=Object(c.a)(Object(c.a)({},o[l]),{},{data:Object(c.a)(Object(c.a)({},null===(t=o[l])||void 0===t?void 0:t.data),{},{item:[].concat(Object(i.a)((null===(n=o[l])||void 0===n||null===(a=n.data)||void 0===a?void 0:a.item)||[]),[e])})}),P(o)}})]}),Object(x.jsxs)("div",{className:"home-section",children:[Object(x.jsx)(j.a,{handleSave:function(){var e=R.filter((function(e){return"btnSelectorNode"===e.type})),t=[];e.forEach((function(e){switch(e.data.type){case"event":t.push({event:e.data.event});break;case"condition":t.push({condition:e.data.conditions});break;case"action-yes":case"action":t.push(Object(a.a)({},e.data.type,Object(i.a)(e.data.actions||[])))}})),console.log("output",t)},children:Object(x.jsx)(d.a,{variant:"h3",children:"Map your automation"})}),Object(x.jsx)("div",{className:"flow-body",children:Object(x.jsx)(r.c,{elementsSelectable:!0,elements:R,onElementsRemove:function(e){return P((function(t){return Object(r.d)(e,t)}))},onConnect:function(e){return P((function(t){return Object(r.b)(e,t)}))},nodeTypes:Q,onSelectionChange:function(e){e||h(null)}})})]})]})}}}]);
//# sourceMappingURL=4.4ab41a77.chunk.js.map